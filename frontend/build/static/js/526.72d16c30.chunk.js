"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[526],{8526:(e,i,t)=>{t.r(i),t.d(i,{default:()=>R});var l=t(5043),o=t(6446),a=t(6240),d=t(344),n=t(9252),r=t(5865),s=t(8903),c=t(9840),p=t(1673),u=t(8408),h=t(1449),x=t(1906),v=t(3516),m=t(899),g=(t(6005),t(7306)),b=t(6213),f=t(423),A=t(9416),y=t(3768),j=t(835),I=t(5903),w=t(6178),C=t.n(w),k=t(579);const B={flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px"},flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},CombineBox:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",border:"1px solid rgba(229, 229, 229, 1)",margin:"auto",maxWidth:"550px",borderRadius:"10px",padding:"40px","@media(max-width:600px)":{border:"none",padding:"8px"}},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px",cursor:"pointer"},mainScreenBack:{overflow:"auto",height:"100vh"},content:{minHeight:"500px",borderRadius:"10px",minWidth:"430px",padding:"28px",color:"#1A1919",margin:"50px 0 auto 50px",background:"#FFF",border:"1px solid rgba(229, 229, 229, 1)","@media(max-width:600px)":{padding:"0 0px"},"@media(max-width:900px)":{margin:"0px 10px",border:"none",padding:"0 0px",minWidth:"auto"}},logo:{cursor:"pointer",maxWidth:"155px"},boxMnage:{margin:"0px 50px 50px 0px",position:"sticky",top:"50px",height:"fit-content","@media(max-width:900px)":{display:"none"}},mainBox:{display:"flex",paddingTop:"130px",alignItems:"flex-start","@media(max-width:900px)":{display:"grid",alignItems:"baseline",paddingTop:"60px"}}},S=(0,I.A)("img")({width:"100%"}),E=((0,I.A)("img")({width:"100%",maxWidth:"170px",marginTop:"-30px",display:"none","@media(max-width:900px)":{display:"block"}}),(0,I.A)(o.A)({background:"rgb(255 253 243)",minHeight:"500px",border:"1px solid #E5E5E5",borderRadius:"10px"})),W=(0,I.A)(o.A)((e=>{let{theme:i}=e;return{padding:"0px 0px 0 0px",overflow:"auto",alignItems:"end",justifyContent:"space-between",alignContent:"space-between",minWidth:"480px","@media(max-width:600px)":{minWidth:"auto"}}})),M=((0,I.A)(o.A)((e=>{let{theme:i}=e;return{padding:"45px",borderTop:"1px solid #E5E5E5","@media(max-width:767px)":{padding:"30px"}}})),(0,I.A)("img")((e=>{let{theme:i}=e;return{maxWidth:"330px","@media(max-width:767px)":{width:"100%"}}})),(0,I.A)("img")((e=>{let{theme:i}=e;return{width:"70px",height:"70px",margin:"0 12px"}})),(0,I.A)("div")((e=>{let{theme:i}=e;return{flexGrow:1,display:"block",position:"fixed",width:"-webkit-fill-available",zIndex:"1",backgroundColor:"#fff",boxShadow:"none",border:"1px solid #E5E5E5",borderRadius:"0",padding:"12px 5px","@media(max-width:767px)":{border:"none"}}})));const R=function(){var e,i,t,I,w,R,O,P,F,G,T,V,Y,D,L,z,N,H;const X=(0,j.Zp)(),K=(0,j.zy)(),[_,q]=(0,l.useState)([]),[U,Z]=(0,l.useState)(!1),[J,Q]=(0,l.useState)(""),[$,ee]=(0,l.useState)(""),[ie,te]=(0,l.useState)(!1),[le,oe]=(0,l.useState)([]),[ae,de]=(0,l.useState)([]),[ne,re]=(0,l.useState)(1);(0,l.useEffect)((()=>{var e;Q(null===K||void 0===K||null===(e=K.state)||void 0===e?void 0:e.img)}),[null===K||void 0===K||null===(e=K.state)||void 0===e?void 0:e.img]);const se={children:[{name:(null===K||void 0===K||null===(i=K.state)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.childName)||"",schoolId:(null===K||void 0===K||null===(I=K.state)||void 0===I||null===(w=I.data)||void 0===w||null===(R=w.schoolId)||void 0===R?void 0:R.schoolId)||"",dob:null!==K&&void 0!==K&&null!==(O=K.state)&&void 0!==O&&null!==(P=O.data)&&void 0!==P&&P.dob?C()(null===K||void 0===K||null===(F=K.state)||void 0===F||null===(G=F.data)||void 0===G?void 0:G.dob).format("YYYY-MM-DD"):"",gender:(null===K||void 0===K||null===(T=K.state)||void 0===T||null===(V=T.data)||void 0===V?void 0:V.gender)||"",standard:(null===K||void 0===K||null===(Y=K.state)||void 0===Y||null===(D=Y.data)||void 0===D?void 0:D.standard)||""}]};(0,l.useEffect)((()=>{var e,i,t,l,o,a;null!==K&&void 0!==K&&null!==(e=K.state)&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&null!==(t=i.schoolId)&&void 0!==t&&t.schoolId&&ue(null===K||void 0===K||null===(l=K.state)||void 0===l||null===(o=l.data)||void 0===o||null===(a=o.schoolId)||void 0===a?void 0:a.schoolId)}),[null===K||void 0===K||null===(L=K.state)||void 0===L||null===(z=L.data)||void 0===z||null===(N=z.schoolId)||void 0===N?void 0:N.schoolId]),(0,l.useEffect)((()=>{ce()}),[]);const ce=async()=>{try{let e=await b.A.get(g.A.getSchool);200===e.status&&(oe(e.data.data),de(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};(0,l.useEffect)((()=>{pe()}),[]);const pe=async()=>{const e=localStorage.getItem("token");try{const i=await(0,b.A)({method:"GET",url:g.A.getAllChild,headers:{token:e}});200===i.status&&q(i.data.data)}catch(i){console.log(i,"error")}},ue=async e=>{const i=localStorage.getItem("token");try{const t=await(0,b.A)({method:"GET",url:g.A.schoolIdCheck,headers:{token:i},params:{school_id:e}});200===t.status&&(console.log(t.data.data,"reslut"),Z(t.data.data))}catch(t){console.log(t,"error")}},he=e=>{if(e.target.files[0]){const i=e.target.files[0];ee(i),(async e=>{const i=localStorage.getItem("token");te(!0);try{const t=new FormData;t.append("image",e);const l=await(0,b.A)({method:"POST",url:g.A.photo,headers:{token:i},data:t});200===l.status&&(Q(l.data.result),te(!1))}catch(t){console.log(t,"error"),te(!1)}})(i);const t=new FileReader;t.onload=()=>{},t.readAsDataURL(i)}else ee(J)},xe=(0,a.A)(),ve=(0,d.A)(xe.breakpoints.down("sm"));return(0,k.jsxs)(o.A,{sx:B.mainScreenBack,children:[(0,k.jsx)(M,{children:(0,k.jsx)(n.A,{children:(0,k.jsx)(o.A,{sx:B.flexBox,onClick:()=>{X("/update-profile")},children:(0,k.jsxs)(o.A,{sx:{display:"flex",gap:"5px",alignItems:"center",cursor:"pointer"},children:[(0,k.jsx)(f.K9R,{style:ve?{color:"#FE8A36",fontSize:"25px"}:{color:"#000"}}),!ve&&(0,k.jsx)(r.A,{children:"Back"})," "]})})})}),(0,k.jsx)(n.A,{children:(0,k.jsxs)(o.A,{sx:B.mainBox,children:[(0,k.jsx)(o.A,{sx:B.boxMnage,children:(0,k.jsx)(E,{children:(0,k.jsx)(S,{alt:"",src:"images/loginBack.png",style:{borderRadius:"10px"}})})}),(0,k.jsx)(W,{children:(0,k.jsxs)(o.A,{sx:B.CombineBox,children:[(0,k.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:(0,k.jsxs)(r.A,{children:[(null===K||void 0===K||null===(H=K.state)||void 0===H?void 0:H.name)||"--"," Profile"]})}),(0,k.jsxs)("div",{style:{display:"grid",justifyContent:"center",alignItems:"center"},children:[(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",position:"relative"},children:[(0,k.jsx)("img",{src:J||"images/defaultPic.png",alt:"",style:{width:"80px",height:"80px",borderRadius:"50%"}}),(0,k.jsx)("div",{style:{position:"absolute",bottom:"-10px",right:"35px"},children:(0,k.jsxs)(o.A,{sx:B.editBox,children:[(0,k.jsx)("input",{type:"file",accept:"image/*",multiple:"false",style:{position:"absolute",zIndex:"1",width:"-webkit-fill-available",overflow:"hidden",height:"100%",opacity:"0"},onChange:e=>he(e)}),(0,k.jsx)("img",{src:"images/editProfile.svg",style:{width:"35px",height:"35px",cursor:"pointer"}})]})})]}),(0,k.jsx)(r.A,{children:"Change Profile Photo"})]}),(0,k.jsx)(v.l1,{onSubmit:async e=>{var i,t,l;te(!0);let o=e.children.map((e=>{var i;return{childName:e.name,schoolId:null===(i=le.find((i=>i.schoolId==e.schoolId)))||void 0===i?void 0:i._id,dob:e.dob,standard:e.standard,gender:e.gender}})),a=null!==K&&void 0!==K&&null!==(i=K.state)&&void 0!==i&&i.childId?"".concat(g.A.updateChild,"?childId=").concat(null===(t=K.state)||void 0===t?void 0:t.childId):g.A.createChild,d=(null!==K&&void 0!==K&&null!==(l=K.state)&&void 0!==l&&l.childId,[{...o[0],profilePic:J}]);try{var n;let e="";e=null!==K&&void 0!==K&&null!==(n=K.state)&&void 0!==n&&n.childId?await b.A.put(a,d[0],{headers:{token:localStorage.getItem("token")}}):await b.A.post(a,d,{headers:{token:localStorage.getItem("token")}}),200===e.status&&(y.Ay.success(e.data.message),te(!1),X("/update-profile"))}catch(r){y.Ay.error(r.response.data.message),te(!1)}},initialValues:se,validationSchema:m.Ik().shape({children:m.YO().of(m.Ik().shape({name:m.Yj().required("Please enter your full name."),schoolId:m.Yj(),dob:m.Yj(),gender:m.Yj(),standard:m.Yj()}))}),children:e=>{let{errors:i,handleBlur:t,handleChange:l,handleSubmit:a,touched:d,values:n}=e;return(0,k.jsxs)(v.lV,{onSubmit:a,children:[(0,k.jsx)(v.ED,{name:"children",children:e=>{let{push:a,remove:x}=e;return(0,k.jsx)(k.Fragment,{children:n.children.map(((e,a)=>{var n,x,v,m,g,b,f,A,y,j,I,w,C,B,S,E,W,M,R,O,P,F,G,T,V,Y,D,L,z,N,H,X,K,_,q,Z,J,Q,$,ee,ie,te,le,oe,ae,de,ne,re,se,ce,pe,he;return(0,k.jsxs)(s.Ay,{sx:{margin:"13px 0"},children:[(0,k.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,k.jsx)(c.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(a,".name"),error:Boolean((null===(n=d.children)||void 0===n||null===(x=n[a])||void 0===x?void 0:x.name)&&(null===(v=i.children)||void 0===v||null===(m=v[a])||void 0===m?void 0:m.name)),onBlur:t,onChange:l}),(0,k.jsx)(p.A,{error:Boolean((null===(g=d.children)||void 0===g||null===(b=g[a])||void 0===b?void 0:b.name)&&(null===(f=i.children)||void 0===f||null===(A=f[a])||void 0===A?void 0:A.name)),children:(null===(y=d.children)||void 0===y||null===(j=y[a])||void 0===j?void 0:j.name)&&(null===(I=i.children)||void 0===I||null===(w=I[a])||void 0===w?void 0:w.name)})]}),(0,k.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,k.jsx)(c.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(a,".schoolId"),error:Boolean((null===(C=d.children)||void 0===C||null===(B=C[a])||void 0===B?void 0:B.schoolId)&&(null===(S=i.children)||void 0===S||null===(E=S[a])||void 0===E?void 0:E.schoolId)),onBlur:t,onChange:e=>{l(e),ue(e.target.value)}}),(0,k.jsx)(p.A,{error:Boolean((null===(W=d.children)||void 0===W||null===(M=W[a])||void 0===M?void 0:M.schoolId)&&(null===(R=i.children)||void 0===R||null===(O=R[a])||void 0===O?void 0:O.schoolId)),children:(null===(P=d.children)||void 0===P||null===(F=P[a])||void 0===F?void 0:F.schoolId)&&(null===(G=i.children)||void 0===G||null===(T=G[a])||void 0===T?void 0:T.schoolId)})]}),(0,k.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,k.jsx)(c.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(a,".dob"),error:Boolean((null===(V=d.children)||void 0===V||null===(Y=V[a])||void 0===Y?void 0:Y.dob)&&(null===(D=i.children)||void 0===D||null===(L=D[a])||void 0===L?void 0:L.dob)),onBlur:t,onChange:l}),(0,k.jsx)(p.A,{error:Boolean((null===(z=d.children)||void 0===z||null===(N=z[a])||void 0===N?void 0:N.dob)&&(null===(H=i.children)||void 0===H||null===(X=H[a])||void 0===X?void 0:X.dob)),children:(null===(K=d.children)||void 0===K||null===(_=K[a])||void 0===_?void 0:_.dob)&&(null===(q=i.children)||void 0===q||null===(Z=q[a])||void 0===Z?void 0:Z.dob)})]}),(0,k.jsx)(r.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,k.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,k.jsxs)(u.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:l,name:"children.".concat(a,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,k.jsx)(h.A,{value:"",disabled:!0,children:"Choose one"}),(0,k.jsx)(h.A,{value:"Male",children:"Boy"}),(0,k.jsx)(h.A,{value:"Female",children:"Girl"})]}),(0,k.jsx)(p.A,{error:Boolean((null===(J=d.children)||void 0===J||null===(Q=J[a])||void 0===Q?void 0:Q.gender)&&(null===($=i.children)||void 0===$||null===(ee=$[a])||void 0===ee?void 0:ee.gender)),children:(null===(ie=d.children)||void 0===ie||null===(te=ie[a])||void 0===te?void 0:te.gender)&&(null===(le=i.children)||void 0===le||null===(oe=le[a])||void 0===oe?void 0:oe.gender)})]}),U&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(r.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,k.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,k.jsxs)(u.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:l,name:"children.".concat(a,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,k.jsx)(h.A,{value:"",disabled:!0,children:"Choose one"}),[4,5,6,7,8,9,10].map((e=>(0,k.jsx)(h.A,{value:e.toString(),children:e},e)))]}),(0,k.jsx)(p.A,{error:Boolean((null===(ae=d.children)||void 0===ae||null===(de=ae[a])||void 0===de?void 0:de.standard)&&(null===(ne=i.children)||void 0===ne||null===(re=ne[a])||void 0===re?void 0:re.standard)),children:(null===(se=d.children)||void 0===se||null===(ce=se[a])||void 0===ce?void 0:ce.standard)&&(null===(pe=i.children)||void 0===pe||null===(he=pe[a])||void 0===he?void 0:he.standard)})]})]})]},a)}))})}}),(0,k.jsxs)(s.Ay,{children:[(0,k.jsx)(o.A,{sx:{marginTop:"26px"},children:(0,k.jsxs)(x.A,{type:"submit",variant:"contained",disabled:ie,fullWidth:!0,children:["Save",ie&&(0,k.jsx)(A.A,{})]})}),(0,k.jsx)(o.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})})]})})]})}},5658:(e,i,t)=>{t.d(i,{A:()=>d,K:()=>a});var l=t(7056),o=t(2400);function a(e){return(0,o.Ay)("MuiDivider",e)}const d=(0,l.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},1449:(e,i,t)=>{t.d(i,{A:()=>k});var l=t(8587),o=t(8168),a=t(5043),d=t(8387),n=t(8606),r=t(7266),s=t(4535),c=t(1475),p=t(2876),u=t(1347),h=t(2383),x=t(5013),v=t(5849),m=t(5658),g=t(7056);const b=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var f=t(5671),A=t(2400);function y(e){return(0,A.Ay)("MuiMenuItem",e)}const j=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var I=t(579);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,s.Ay)(h.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.root,t.dense&&i.dense,t.divider&&i.divider,!t.disableGutters&&i.gutters]}})((e=>{let{theme:i,ownerState:t}=e;return(0,o.A)({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:"1px solid ".concat((i.vars||i).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,r.X4)(i.palette.primary.main,i.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,r.X4)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,r.X4)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,r.X4)(i.palette.primary.main,i.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(i.vars||i).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(i.vars||i).palette.action.disabledOpacity},["& + .".concat(m.A.root)]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},["& + .".concat(m.A.inset)]:{marginLeft:52},["& .".concat(f.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!t.dense&&{[i.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))})),k=a.forwardRef((function(e,i){const t=(0,p.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:c=!1,divider:h=!1,disableGutters:m=!1,focusVisibleClassName:g,role:b="menuitem",tabIndex:f,className:A}=t,j=(0,l.A)(t,w),k=a.useContext(u.A),B=a.useMemo((()=>({dense:c||k.dense||!1,disableGutters:m})),[k.dense,c,m]),S=a.useRef(null);(0,x.A)((()=>{r&&S.current&&S.current.focus()}),[r]);const E=(0,o.A)({},t,{dense:B.dense,divider:h,disableGutters:m}),W=(e=>{const{disabled:i,dense:t,divider:l,disableGutters:a,selected:d,classes:r}=e,s={root:["root",t&&"dense",i&&"disabled",!a&&"gutters",l&&"divider",d&&"selected"]},c=(0,n.A)(s,y,r);return(0,o.A)({},r,c)})(t),M=(0,v.A)(S,i);let R;return t.disabled||(R=void 0!==f?f:-1),(0,I.jsx)(u.A.Provider,{value:B,children:(0,I.jsx)(C,(0,o.A)({ref:M,role:b,tabIndex:R,component:s,focusVisibleClassName:(0,d.A)(W.focusVisible,g),className:(0,d.A)(W.root,A)},j,{ownerState:E,classes:W}))})}))}}]);
//# sourceMappingURL=526.72d16c30.chunk.js.map