"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[479],{7479:(e,i,n)=>{n.r(i),n.d(i,{default:()=>w});var t=n(5043),r=n(6446),a=n(5865),o=n(8903),l=n(9840),s=n(1673),p=n(3193),d=n(1906),c=n(3516),x=n(899),h=n(5666),m=n(7306),u=n(6213),g=n(835),j=n(9416),A=n(3768),y=n(4942),b=(n(6178),n(5237)),v=n.n(b),f=n(579);const C={otpFormControl:{"& input":{color:"#0B1426",width:"48px !important",height:"48px !important",marginRight:"10px !important",border:"1px solid #D8D8D8",borderRadius:"8px","@media(max-width:460px)":{width:"45px !important",height:"45px !important",marginRight:"7px !important"}}}};const w=function(e){const[i,n]=(0,t.useState)(!1),b=(0,g.Zp)();return(0,t.useContext)(y.c),(0,t.useEffect)((()=>{localStorage.removeItem("emailReset")}),[]),(0,f.jsx)(h.A,{title:"Login",children:(0,f.jsxs)(r.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,f.jsx)(a.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Login"}),(0,f.jsxs)(a.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:["Welcome back! Login now to see",(0,f.jsx)("br",{})," where you left off"]}),(0,f.jsx)(c.l1,{onSubmit:async e=>{n(!0);try{const i=await u.A.post(m.A.loginGenerateOtp,{email:e.email,pin:e.pin});200===i.status&&(A.Ay.success(i.data.message),n(!1),b("/dashboard"),localStorage.setItem("token",i.data.token))}catch(r){var i,t;A.Ay.error((null===r||void 0===r||null===(i=r.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)||"Something went wrong please try again later"),n(!1)}},initialValues:{email:"",pin:""},validationSchema:x.Ik().shape({email:x.Yj().required("Please enter your email address."),pin:x.Yj().length(4,"OTP must be 4 digits").required("Please enter your OTP.")}),children:e=>{let{errors:n,handleBlur:t,handleChange:x,handleSubmit:h,touched:m,values:u,setFieldValue:g}=e;return(0,f.jsxs)(c.lV,{onSubmit:h,children:[(0,f.jsxs)(o.Ay,{sx:{margin:"13px 0"},children:[(0,f.jsx)(l.A,{placeholder:"Email ID",type:"email",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:u.email,name:"email",error:Boolean(m.email&&n.email),onBlur:t,onChange:x,SX:{padding:"8px 13px"}}),(0,f.jsx)(s.A,{error:!0,children:m.email&&n.email})]}),(0,f.jsx)(o.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,f.jsxs)(r.A,{children:[(0,f.jsx)(a.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{marginBottom:"13px"},children:"Enter 4-digit pin"}),(0,f.jsx)(p.A,{fullWidth:!0,error:Boolean(m.pin&&n.pin),sx:C.otpFormControl,children:(0,f.jsx)(v(),{value:u.pin,inputVariant:"standard",autoComplete:"off",onChange:e=>{g("pin",e)},name:"pin",id:"inputID",style:{display:"flex",justifyContent:"start",width:"100%",gap:"15px"},OTPLength:4,otpType:"number"})}),m.pin&&n.pin&&(0,f.jsx)(s.A,{error:!0,children:n.pin})]})}),(0,f.jsx)(o.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,f.jsx)(a.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{cursor:"pointer"},onClick:()=>{b("/reset-pin")},children:"Reset pin?"})}),(0,f.jsxs)(o.Ay,{children:[(0,f.jsx)(r.A,{sx:{marginTop:"26px"},children:(0,f.jsxs)(d.A,{type:"submit",variant:"contained",disabled:i,fullWidth:!0,children:["Login",i&&(0,f.jsx)(j.A,{})]})}),(0,f.jsx)(r.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"},children:(0,f.jsxs)(a.A,{variant:"body1",color:"rgba(60, 60, 60, 1)",children:["Don\u2019t have an account?",(0,f.jsx)("span",{onClick:()=>{b("/sign-up")},style:{color:"rgba(0, 186, 242, 1)",cursor:"pointer"},children:"\xa0Sign up"})]})})]})]})}})]})})}}}]);
//# sourceMappingURL=479.597317f1.chunk.js.map