"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[526],{8526:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var o=l(5043),i=l(6446),a=l(5865),n=l(8903),d=l(9840),r=l(1673),s=l(8408),c=l(1449),u=l(1906),h=l(3516),p=l(899),v=(l(5666),l(7306)),m=l(6213),g=l(423),x=l(9416),b=l(3768),A=l(835),y=l(5903),f=l(6178),j=l.n(f),I=l(579);const C={flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},CombineBox:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",border:"1px solid rgba(229, 229, 229, 1)",margin:"auto",maxWidth:"550px",borderRadius:"10px",padding:"40px"},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px"}},w=(0,y.A)(i.A)((e=>{let{theme:t}=e;return{padding:"15px 0px 0 0px",overflow:"auto",alignItems:"end",justifyContent:"space-between",alignContent:"space-between"}}));(0,y.A)(i.A)((e=>{let{theme:t}=e;return{padding:"45px",borderTop:"1px solid #E5E5E5","@media(max-width:767px)":{padding:"30px"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{maxWidth:"330px","@media(max-width:767px)":{width:"100%"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{width:"70px",height:"70px",margin:"0 12px"}}));const S=function(){var e,t,l,y,f,S,k,B,M,O,P,R,W,E,G;const V=(0,A.Zp)(),Y=(0,A.zy)(),[D,F]=(0,o.useState)([]),[L,T]=(0,o.useState)(!1),[N,z]=(0,o.useState)(""),[H,X]=(0,o.useState)(""),[K,_]=(0,o.useState)(!1),[q,U]=(0,o.useState)([]),[Z,J]=(0,o.useState)([]),[Q,$]=(0,o.useState)(1);(0,o.useEffect)((()=>{var e;z(null===Y||void 0===Y||null===(e=Y.state)||void 0===e?void 0:e.img)}),[null===Y||void 0===Y||null===(e=Y.state)||void 0===e?void 0:e.img]);const ee={children:[{name:(null===Y||void 0===Y||null===(t=Y.state)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.childName)||"",schoolId:(null===Y||void 0===Y||null===(y=Y.state)||void 0===y||null===(f=y.data)||void 0===f||null===(S=f.schoolId)||void 0===S?void 0:S.schoolId)||"",dob:null!==Y&&void 0!==Y&&null!==(k=Y.state)&&void 0!==k&&null!==(B=k.data)&&void 0!==B&&B.dob?j()(null===Y||void 0===Y||null===(M=Y.state)||void 0===M||null===(O=M.data)||void 0===O?void 0:O.dob).format("YYYY-MM-DD"):"",gender:(null===Y||void 0===Y||null===(P=Y.state)||void 0===P||null===(R=P.data)||void 0===R?void 0:R.gender)||"",standard:(null===Y||void 0===Y||null===(W=Y.state)||void 0===W||null===(E=W.data)||void 0===E?void 0:E.standard)||""}]};(0,o.useEffect)((()=>{te()}),[]);const te=async()=>{try{let e=await m.A.get(v.A.getSchool);200===e.status&&(U(e.data.data),J(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};(0,o.useEffect)((()=>{le()}),[]);const le=async()=>{const e=localStorage.getItem("token");try{const t=await(0,m.A)({method:"GET",url:v.A.getAllChild,headers:{token:e}});200===t.status&&F(t.data.data)}catch(t){console.log(t,"error")}},oe=e=>{if(e.target.files[0]){const t=e.target.files[0];X(t),(async e=>{const t=localStorage.getItem("token");_(!0);try{const l=new FormData;l.append("image",e);const o=await(0,m.A)({method:"POST",url:v.A.photo,headers:{token:t},data:l});200===o.status&&(z(o.data.result),_(!1))}catch(l){console.log(l,"error"),_(!1)}})(t);const l=new FileReader;l.onload=()=>{},l.readAsDataURL(t)}else X(N)};return(0,I.jsxs)(w,{children:[(0,I.jsx)(i.A,{sx:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",margin:"auto",maxWidth:"550px",borderRadius:"10px"},children:(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"15px",alignItems:"center",cursor:"pointer"},onClick:()=>{V("/update-profile")},children:[(0,I.jsx)(g.K9R,{color:"rgba(182, 183, 184, 1)"}),(0,I.jsxs)(a.A,{children:[(null===Y||void 0===Y||null===(G=Y.state)||void 0===G?void 0:G.name)||"--"," Profile"]})]})}),(0,I.jsxs)(i.A,{sx:C.CombineBox,children:[(0,I.jsxs)("div",{style:{display:"grid",justifyContent:"center",alignItems:"center"},children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",position:"relative"},children:[(0,I.jsx)("img",{src:N||"images/defaultPic.png",alt:"",style:{width:"80px",height:"80px",borderRadius:"50%"}}),(0,I.jsx)("div",{style:{position:"absolute",bottom:"-10px",right:"35px"},children:(0,I.jsxs)(i.A,{sx:C.editBox,children:[(0,I.jsx)("input",{type:"file",accept:"image/*",multiple:"false",style:{position:"absolute",zIndex:"1",width:"-webkit-fill-available",overflow:"hidden",height:"100%",opacity:"0"},onChange:e=>oe(e)}),(0,I.jsx)("img",{src:"images/editProfile.svg",style:{width:"35px",height:"35px",cursor:"pointer"}})]})})]}),(0,I.jsx)(a.A,{children:"Change Profile Photo"})]}),(0,I.jsx)(h.l1,{onSubmit:async e=>{var t,l,o;_(!0);let i=e.children.map((e=>{var t;return{childName:e.name,schoolId:null===(t=q.find((t=>t.schoolId==e.schoolId)))||void 0===t?void 0:t._id,dob:e.dob,standard:e.standard,gender:e.gender}})),a=null!==Y&&void 0!==Y&&null!==(t=Y.state)&&void 0!==t&&t.childId?"".concat(v.A.updateChild,"?childId=").concat(null===(l=Y.state)||void 0===l?void 0:l.childId):v.A.createChild,n=(null!==Y&&void 0!==Y&&null!==(o=Y.state)&&void 0!==o&&o.childId,[{...i[0],profilePic:N}]);try{var d;let e="";e=null!==Y&&void 0!==Y&&null!==(d=Y.state)&&void 0!==d&&d.childId?await m.A.put(a,n[0],{headers:{token:localStorage.getItem("token")}}):await m.A.post(a,n,{headers:{token:localStorage.getItem("token")}}),200===e.status&&(b.Ay.success(e.data.message),_(!1),V("/update-profile"))}catch(r){b.Ay.error(r.response.data.message),_(!1)}},initialValues:ee,validationSchema:p.Ik().shape({children:p.YO().of(p.Ik().shape({name:p.Yj().required("Please enter your full name."),schoolId:p.Yj(),dob:p.Yj(),gender:p.Yj(),standard:p.Yj()}))}),children:e=>{let{errors:t,handleBlur:l,handleChange:o,handleSubmit:p,touched:g,values:b}=e;return(0,I.jsxs)(h.lV,{onSubmit:p,children:[(0,I.jsx)(h.ED,{name:"children",children:e=>{let{push:u,remove:h}=e;return(0,I.jsx)(I.Fragment,{children:b.children.map(((e,u)=>{var h,p,x,b,A,y,f,j,C,w,S,k,B,M,O,P,R,W,E,G,V,Y,D,F,N,z,H,X,K,_,q,U,Z,J,Q,$,ee,te,le,oe,ie,ae,ne,de,re,se,ce,ue,he,pe,ve,me;return(0,I.jsxs)(n.Ay,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(h=g.children)||void 0===h||null===(p=h[u])||void 0===p?void 0:p.name)&&(null===(x=t.children)||void 0===x||null===(b=x[u])||void 0===b?void 0:b.name)),onBlur:l,onChange:o}),(0,I.jsx)(r.A,{error:Boolean((null===(A=g.children)||void 0===A||null===(y=A[u])||void 0===y?void 0:y.name)&&(null===(f=t.children)||void 0===f||null===(j=f[u])||void 0===j?void 0:j.name)),children:(null===(C=g.children)||void 0===C||null===(w=C[u])||void 0===w?void 0:w.name)&&(null===(S=t.children)||void 0===S||null===(k=S[u])||void 0===k?void 0:k.name)})]}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(B=g.children)||void 0===B||null===(M=B[u])||void 0===M?void 0:M.schoolId)&&(null===(O=t.children)||void 0===O||null===(P=O[u])||void 0===P?void 0:P.schoolId)),onBlur:l,onChange:e=>{o(e),(async e=>{const t=localStorage.getItem("token");try{const l=await(0,m.A)({method:"GET",url:v.A.schoolIdCheck,headers:{token:t},params:{school_id:e}});200===l.status&&(console.log(l.data.data,"reslut"),T(l.data.data))}catch(l){console.log(l,"error")}})(e.target.value)}}),(0,I.jsx)(r.A,{error:Boolean((null===(R=g.children)||void 0===R||null===(W=R[u])||void 0===W?void 0:W.schoolId)&&(null===(E=t.children)||void 0===E||null===(G=E[u])||void 0===G?void 0:G.schoolId)),children:(null===(V=g.children)||void 0===V||null===(Y=V[u])||void 0===Y?void 0:Y.schoolId)&&(null===(D=t.children)||void 0===D||null===(F=D[u])||void 0===F?void 0:F.schoolId)})]}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(N=g.children)||void 0===N||null===(z=N[u])||void 0===z?void 0:z.dob)&&(null===(H=t.children)||void 0===H||null===(X=H[u])||void 0===X?void 0:X.dob)),onBlur:l,onChange:o}),(0,I.jsx)(r.A,{error:Boolean((null===(K=g.children)||void 0===K||null===(_=K[u])||void 0===_?void 0:_.dob)&&(null===(q=t.children)||void 0===q||null===(U=q[u])||void 0===U?void 0:U.dob)),children:(null===(Z=g.children)||void 0===Z||null===(J=Z[u])||void 0===J?void 0:J.dob)&&(null===(Q=t.children)||void 0===Q||null===($=Q[u])||void 0===$?void 0:$.dob)})]}),(0,I.jsx)(a.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:o,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,I.jsx)(c.A,{value:"Male",children:"Boy"}),(0,I.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,I.jsx)(r.A,{error:Boolean((null===(ee=g.children)||void 0===ee||null===(te=ee[u])||void 0===te?void 0:te.gender)&&(null===(le=t.children)||void 0===le||null===(oe=le[u])||void 0===oe?void 0:oe.gender)),children:(null===(ie=g.children)||void 0===ie||null===(ae=ie[u])||void 0===ae?void 0:ae.gender)&&(null===(ne=t.children)||void 0===ne||null===(de=ne[u])||void 0===de?void 0:de.gender)})]}),L&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:o,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[4,5,6,7,8,9,10].map((e=>(0,I.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,I.jsx)(r.A,{error:Boolean((null===(re=g.children)||void 0===re||null===(se=re[u])||void 0===se?void 0:se.standard)&&(null===(ce=t.children)||void 0===ce||null===(ue=ce[u])||void 0===ue?void 0:ue.standard)),children:(null===(he=g.children)||void 0===he||null===(pe=he[u])||void 0===pe?void 0:pe.standard)&&(null===(ve=t.children)||void 0===ve||null===(me=ve[u])||void 0===me?void 0:me.standard)})]})]})]},u)}))})}}),(0,I.jsxs)(n.Ay,{children:[(0,I.jsx)(i.A,{sx:{marginTop:"26px"},children:(0,I.jsxs)(u.A,{type:"submit",variant:"contained",disabled:K,fullWidth:!0,children:["Save",K&&(0,I.jsx)(x.A,{})]})}),(0,I.jsx)(i.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})]})}},5658:(e,t,l)=>{l.d(t,{A:()=>n,K:()=>a});var o=l(7056),i=l(2400);function a(e){return(0,i.Ay)("MuiDivider",e)}const n=(0,o.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},1449:(e,t,l)=>{l.d(t,{A:()=>S});var o=l(8587),i=l(8168),a=l(5043),n=l(8387),d=l(8606),r=l(7266),s=l(4535),c=l(1475),u=l(2876),h=l(1347),p=l(2383),v=l(5013),m=l(5849),g=l(5658),x=l(7056);const b=(0,x.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=l(5671),y=l(2400);function f(e){return(0,y.Ay)("MuiMenuItem",e)}const j=(0,x.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var I=l(579);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,s.Ay)(p.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,l.dense&&t.dense,l.divider&&t.divider,!l.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:l}=e;return(0,i.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!l.disableGutters&&{paddingLeft:16,paddingRight:16},l.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!l.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},l.dense&&(0,i.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))})),S=a.forwardRef((function(e,t){const l=(0,u.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:c=!1,divider:p=!1,disableGutters:g=!1,focusVisibleClassName:x,role:b="menuitem",tabIndex:A,className:y}=l,j=(0,o.A)(l,C),S=a.useContext(h.A),k=a.useMemo((()=>({dense:c||S.dense||!1,disableGutters:g})),[S.dense,c,g]),B=a.useRef(null);(0,v.A)((()=>{r&&B.current&&B.current.focus()}),[r]);const M=(0,i.A)({},l,{dense:k.dense,divider:p,disableGutters:g}),O=(e=>{const{disabled:t,dense:l,divider:o,disableGutters:a,selected:n,classes:r}=e,s={root:["root",l&&"dense",t&&"disabled",!a&&"gutters",o&&"divider",n&&"selected"]},c=(0,d.A)(s,f,r);return(0,i.A)({},r,c)})(l),P=(0,m.A)(B,t);let R;return l.disabled||(R=void 0!==A?A:-1),(0,I.jsx)(h.A.Provider,{value:k,children:(0,I.jsx)(w,(0,i.A)({ref:P,role:b,tabIndex:R,component:s,focusVisibleClassName:(0,n.A)(O.focusVisible,x),className:(0,n.A)(O.root,y)},j,{ownerState:M,classes:O}))})}))}}]);
//# sourceMappingURL=526.25d48acf.chunk.js.map