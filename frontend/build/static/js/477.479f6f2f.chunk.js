"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[477],{7306:(e,t,n)=>{n.d(t,{A:()=>r});const o="http://thecocoapp.com:8080/api/v1/",r={loginGenerateOtp:"".concat(o,"auth/login/email-with-pin"),loginVerifyOtp:"".concat(o,"auth/login/verify-otp"),signupGenerateOtp:"".concat(o,"auth/signup/generate-otp"),signupVerifiedEmail:"".concat(o,"auth/signup-with-verfied-email-pin"),signupVerifyOtp:"".concat(o,"auth/signup/verify-otp"),setPin:"".concat(o,"auth/send-otp-for-set-pin"),setPinChange:"".concat(o,"auth/verify-otp-for-pin-change"),resetPin:"".concat(o,"auth/reset-pin-password"),createChild:"".concat(o,"child/create"),getSchool:"".concat(o,"school/get-all-schools"),getAllChild:"".concat(o,"child/get-all-childs"),switchChild:"".concat(o,"child/switch-to-active-child"),allModules:"".concat(o,"dashboard/get-all-modules"),getLeason:"".concat(o,"dashboard/get-lessons"),getQuestions:"".concat(o,"dashboard/get-questions"),attemptQuestions:"".concat(o,"questions/attempt-questions")}},3477:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var o=n(5043),r=n(6446),i=n(5865),a=n(8903),s=n(3193),l=n(1673),d=n(1906),c=n(3516),p=n(899),u=n(5666),h=n(7306),m=n(6213),g=n(835),x=n(9416),f=n(3768),A=n(4942),v=n(6178),y=n.n(v),b=n(5237),C=n.n(b),j=n(579);const w={otpFormControl:{"& input":{color:"#0B1426",width:"48px !important",height:"48px !important",marginRight:"10px !important",border:"1px solid #D8D8D8",borderRadius:"8px","@media(max-width:460px)":{width:"45px !important",height:"45px !important",marginRight:"7px !important"}}}};const P=function(e){const[t,n]=(0,o.useState)(!1),v=(0,g.Zp)(),b=(0,g.zy)(),P=(0,o.useContext)(A.c);return(0,j.jsx)(u.A,{title:"Reset Password",children:(0,j.jsxs)(r.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,j.jsx)(i.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Reset PIN"}),(0,j.jsxs)(i.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:["Forgot your PIN?",(0,j.jsx)("br",{}),"Reset it now to restore your access."]}),(0,j.jsx)(c.l1,{onSubmit:async e=>{var t;n(!0);const o=null===b||void 0===b||null===(t=b.state)||void 0===t?void 0:t.token;try{const t=await(0,m.A)({method:"POST",url:h.A.resetPin,headers:{token:o},data:{new_pin:e.pin,confirm_pin:e.Cotp}});200===t.status&&(f.Ay.success(t.data.message),n(!1),v("/login"),P.setEndTime(y()().add(0,"m").unix()))}catch(a){var r,i;f.Ay.error((null===a||void 0===a||null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Something went wrong please try again later"),n(!1)}},initialValues:{pin:"",Cotp:""},validationSchema:p.Ik().shape({pin:p.Yj().length(4,"OTP must be 4 digits").required("Please enter your OTP."),Cotp:p.Yj().length(4,"OTP must be 4 digits").required("Please enter your OTP.").oneOf([p.KR("pin"),null],"Pin should match.")}),children:e=>{let{errors:n,handleBlur:o,handleChange:p,handleSubmit:u,touched:h,values:m,setFieldValue:g}=e;return(0,j.jsxs)(c.lV,{onSubmit:u,children:[(0,j.jsx)(a.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,j.jsxs)(r.A,{children:[(0,j.jsx)(i.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{marginBottom:"13px"},children:"Enter 4-digit pin"}),(0,j.jsx)(s.A,{fullWidth:!0,error:Boolean(h.pin&&n.pin),sx:w.otpFormControl,children:(0,j.jsx)(C(),{value:m.pin,inputVariant:"standard",autoComplete:"off",onChange:e=>{g("pin",e)},name:"pin",id:"inputID",style:{display:"flex",justifyContent:"start",width:"100%",gap:"15px"},OTPLength:4,otpType:"number"})}),h.pin&&n.pin&&(0,j.jsx)(l.A,{error:!0,children:n.pin})]})}),(0,j.jsx)(a.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,j.jsxs)(r.A,{children:[(0,j.jsx)(i.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{marginBottom:"13px"},children:"Confirm 4-digit pin"}),(0,j.jsx)(s.A,{fullWidth:!0,error:Boolean(h.Cotp&&n.Cotp),sx:w.otpFormControl,children:(0,j.jsx)(C(),{value:m.Cotp,inputVariant:"standard",autoComplete:"off",onChange:e=>{g("Cotp",e)},name:"Cotp",id:"inputID",style:{display:"flex",justifyContent:"start",width:"100%",gap:"15px"},autoFocus:!0,OTPLength:4,otpType:"number"})}),h.Cotp&&n.Cotp&&(0,j.jsx)(l.A,{error:!0,children:n.Cotp})]})}),(0,j.jsxs)(a.Ay,{children:[(0,j.jsx)(r.A,{sx:{marginTop:"18px"},children:(0,j.jsxs)(d.A,{type:"submit",variant:"contained",disabled:t,fullWidth:!0,children:["Submit",t&&(0,j.jsx)(x.A,{})]})}),(0,j.jsx)(r.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"},children:(0,j.jsxs)(i.A,{variant:"body1",color:"rgba(60, 60, 60, 1)",children:["Have an account?",(0,j.jsx)("span",{onClick:()=>{v("/login")},style:{color:"rgba(0, 186, 242, 1)",cursor:"pointer"},children:"\xa0Log In"})]})})]})]})}})]})})}},4827:(e,t,n)=>{function o(e){let{props:t,states:n,muiFormControl:o}=e;return n.reduce(((e,n)=>(e[n]=t[n],o&&"undefined"===typeof t[n]&&(e[n]=o[n]),e)),{})}n.d(t,{A:()=>o})},5213:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(5043),r=n(1053);function i(){return o.useContext(r.A)}},1673:(e,t,n)=>{n.d(t,{A:()=>b});var o=n(8587),r=n(8168),i=n(5043),a=n(8387),s=n(8606),l=n(4827),d=n(5213),c=n(4535),p=n(6803),u=n(7056),h=n(2400);function m(e){return(0,h.Ay)("MuiFormHelperText",e)}const g=(0,u.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var x,f=n(2876),A=n(579);const v=["children","className","component","disabled","error","filled","focused","margin","required","variant"],y=(0,c.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,p.A)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(g.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(g.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),b=i.forwardRef((function(e,t){const n=(0,f.A)({props:e,name:"MuiFormHelperText"}),{children:i,className:c,component:u="p"}=n,h=(0,o.A)(n,v),g=(0,d.A)(),b=(0,l.A)({props:n,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),C=(0,r.A)({},n,{component:u,contained:"filled"===b.variant||"outlined"===b.variant,variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required}),j=(e=>{const{classes:t,contained:n,size:o,disabled:r,error:i,filled:a,focused:l,required:d}=e,c={root:["root",r&&"disabled",i&&"error",o&&"size".concat((0,p.A)(o)),n&&"contained",l&&"focused",a&&"filled",d&&"required"]};return(0,s.A)(c,m,t)})(C);return(0,A.jsx)(y,(0,r.A)({as:u,ownerState:C,className:(0,a.A)(j.root,c),ref:t},h,{children:" "===i?x||(x=(0,A.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))}))}}]);
//# sourceMappingURL=477.479f6f2f.chunk.js.map