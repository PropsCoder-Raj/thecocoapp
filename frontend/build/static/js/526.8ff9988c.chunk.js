"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[526],{8526:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var i=l(5043),o=l(6446),a=l(5865),n=l(8903),d=l(9840),r=l(1673),s=l(8408),c=l(1449),u=l(1906),h=l(3516),p=l(899),v=(l(5666),l(7306)),m=l(6213),g=l(423),x=l(9416),b=l(3768),A=l(835),y=l(5903),f=l(6178),j=l.n(f),I=l(579);const C={flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},CombineBox:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",border:"1px solid rgba(229, 229, 229, 1)",margin:"auto",maxWidth:"550px",borderRadius:"10px",padding:"40px"},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px"}},w=(0,y.A)(o.A)((e=>{let{theme:t}=e;return{padding:"15px 0px 0 0px",overflow:"auto",alignItems:"end",justifyContent:"space-between",alignContent:"space-between"}}));(0,y.A)(o.A)((e=>{let{theme:t}=e;return{padding:"45px",borderTop:"2px solid #D8D8D8","@media(max-width:767px)":{padding:"30px"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{maxWidth:"330px","@media(max-width:767px)":{width:"100%"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{width:"70px",height:"70px",margin:"0 12px"}}));const S=function(){var e,t,l,y,f,S,k,B,M,O,P,R;const W=(0,A.Zp)(),D=(0,A.zy)(),[G,V]=(0,i.useState)([]),[Y,E]=(0,i.useState)(!1),[F,L]=(0,i.useState)(""),[T,N]=(0,i.useState)(""),[z,H]=(0,i.useState)(!1),[X,K]=(0,i.useState)([]),[_,q]=(0,i.useState)([]),[U,Z]=(0,i.useState)(1);(0,i.useEffect)((()=>{var e;L(null===D||void 0===D||null===(e=D.state)||void 0===e?void 0:e.img)}),[null===D||void 0===D||null===(e=D.state)||void 0===e?void 0:e.img]);const J={children:[{name:(null===D||void 0===D||null===(t=D.state)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.childName)||"",schoolId:(null===D||void 0===D||null===(y=D.state)||void 0===y||null===(f=y.data)||void 0===f?void 0:f.schoolId)||"",dob:j()(null===D||void 0===D||null===(S=D.state)||void 0===S||null===(k=S.data)||void 0===k?void 0:k.dob).format("YYYY-MM-DD")||"",gender:(null===D||void 0===D||null===(B=D.state)||void 0===B||null===(M=B.data)||void 0===M?void 0:M.gender)||"",standard:(null===D||void 0===D||null===(O=D.state)||void 0===O||null===(P=O.data)||void 0===P?void 0:P.standard)||""}]};(0,i.useEffect)((()=>{Q()}),[]);const Q=async()=>{try{let e=await m.A.get(v.A.getSchool);200===e.status&&(K(e.data.data),q(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};(0,i.useEffect)((()=>{$()}),[]);const $=async()=>{const e=localStorage.getItem("token");try{const t=await(0,m.A)({method:"GET",url:v.A.getAllChild,headers:{token:e}});200===t.status&&V(t.data.data)}catch(t){console.log(t,"error")}},ee=e=>{if(e.target.files[0]){const t=e.target.files[0];N(t),(async e=>{const t=localStorage.getItem("token");H(!0);try{const l=new FormData;l.append("image",e);const i=await(0,m.A)({method:"POST",url:v.A.photo,headers:{token:t},data:l});200===i.status&&(L(i.data.result),H(!1))}catch(l){console.log(l,"error"),H(!1)}})(t);const l=new FileReader;l.onload=()=>{},l.readAsDataURL(t)}else N(F)};return(0,I.jsxs)(w,{children:[(0,I.jsx)(o.A,{sx:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",margin:"auto",maxWidth:"550px",borderRadius:"10px"},children:(0,I.jsxs)(o.A,{sx:{display:"flex",gap:"15px",alignItems:"center",cursor:"pointer"},onClick:()=>{W("/update-profile")},children:[(0,I.jsx)(g.K9R,{color:"rgba(182, 183, 184, 1)"}),(0,I.jsxs)(a.A,{children:[(null===D||void 0===D||null===(R=D.state)||void 0===R?void 0:R.name)||"--"," Profile"]})]})}),(0,I.jsxs)(o.A,{sx:C.CombineBox,children:[(0,I.jsxs)("div",{style:{display:"grid",justifyContent:"center",alignItems:"center"},children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",position:"relative"},children:[(0,I.jsx)("img",{src:F||"images/defaultPic.png",alt:"",style:{width:"80px",height:"80px",borderRadius:"50%"}}),(0,I.jsx)("div",{style:{position:"absolute",bottom:"-10px",right:"35px"},children:(0,I.jsxs)(o.A,{sx:C.editBox,children:[(0,I.jsx)("input",{type:"file",accept:"image/*",multiple:"false",style:{position:"absolute",zIndex:"1",width:"-webkit-fill-available",overflow:"hidden",height:"100%",opacity:"0"},onChange:e=>ee(e)}),(0,I.jsx)("img",{src:"images/editProfile.svg",style:{width:"35px",height:"35px",cursor:"pointer"}})]})})]}),(0,I.jsx)(a.A,{children:"Change Profile Photo"})]}),(0,I.jsx)(h.l1,{onSubmit:async e=>{var t,l,i;H(!0);let o=e.children.map((e=>{var t;return{childName:e.name,schoolId:null===(t=X.find((t=>t.schoolId==e.schoolId)))||void 0===t?void 0:t._id,dob:e.dob,standard:e.standard,gender:e.gender}})),a=null!==D&&void 0!==D&&null!==(t=D.state)&&void 0!==t&&t.childId?"".concat(v.A.updateChild,"?childId=").concat(null===(l=D.state)||void 0===l?void 0:l.childId):v.A.createChild,n=(null!==D&&void 0!==D&&null!==(i=D.state)&&void 0!==i&&i.childId,[{...o[0],profilePic:F}]);try{var d;let e="";e=null!==D&&void 0!==D&&null!==(d=D.state)&&void 0!==d&&d.childId?await m.A.put(a,n[0],{headers:{token:localStorage.getItem("token")}}):await m.A.post(a,n,{headers:{token:localStorage.getItem("token")}}),200===e.status&&(b.Ay.success(e.data.message),H(!1),W("/update-profile"))}catch(r){b.Ay.error(r.response.data.message),H(!1)}},initialValues:J,validationSchema:p.Ik().shape({children:p.YO().of(p.Ik().shape({name:p.Yj().required("Please enter your full name."),schoolId:p.Yj(),dob:p.Yj(),gender:p.Yj(),standard:p.Yj()}))}),children:e=>{let{errors:t,handleBlur:l,handleChange:i,handleSubmit:p,touched:g,values:b}=e;return(0,I.jsxs)(h.lV,{onSubmit:p,children:[(0,I.jsx)(h.ED,{name:"children",children:e=>{let{push:u,remove:h}=e;return(0,I.jsx)(I.Fragment,{children:b.children.map(((e,u)=>{var h,p,x,b,A,y,f,j,C,w,S,k,B,M,O,P,R,W,D,G,V,F,L,T,N,z,H,X,K,_,q,U,Z,J,Q,$,ee,te,le,ie,oe,ae,ne,de,re,se,ce,ue,he,pe,ve,me;return(0,I.jsxs)(n.Ay,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(h=g.children)||void 0===h||null===(p=h[u])||void 0===p?void 0:p.name)&&(null===(x=t.children)||void 0===x||null===(b=x[u])||void 0===b?void 0:b.name)),onBlur:l,onChange:i}),(0,I.jsx)(r.A,{error:Boolean((null===(A=g.children)||void 0===A||null===(y=A[u])||void 0===y?void 0:y.name)&&(null===(f=t.children)||void 0===f||null===(j=f[u])||void 0===j?void 0:j.name)),children:(null===(C=g.children)||void 0===C||null===(w=C[u])||void 0===w?void 0:w.name)&&(null===(S=t.children)||void 0===S||null===(k=S[u])||void 0===k?void 0:k.name)})]}),(0,I.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(B=g.children)||void 0===B||null===(M=B[u])||void 0===M?void 0:M.schoolId)&&(null===(O=t.children)||void 0===O||null===(P=O[u])||void 0===P?void 0:P.schoolId)),onBlur:l,onChange:e=>{i(e),(async e=>{const t=localStorage.getItem("token");try{const l=await(0,m.A)({method:"GET",url:v.A.schoolIdCheck,headers:{token:t},params:{school_id:e}});200===l.status&&(console.log(l.data.data,"reslut"),E(l.data.data))}catch(l){console.log(l,"error")}})(e.target.value)}}),(0,I.jsx)(r.A,{error:Boolean((null===(R=g.children)||void 0===R||null===(W=R[u])||void 0===W?void 0:W.schoolId)&&(null===(D=t.children)||void 0===D||null===(G=D[u])||void 0===G?void 0:G.schoolId)),children:(null===(V=g.children)||void 0===V||null===(F=V[u])||void 0===F?void 0:F.schoolId)&&(null===(L=t.children)||void 0===L||null===(T=L[u])||void 0===T?void 0:T.schoolId)})]}),(0,I.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(d.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(N=g.children)||void 0===N||null===(z=N[u])||void 0===z?void 0:z.dob)&&(null===(H=t.children)||void 0===H||null===(X=H[u])||void 0===X?void 0:X.dob)),onBlur:l,onChange:i}),(0,I.jsx)(r.A,{error:Boolean((null===(K=g.children)||void 0===K||null===(_=K[u])||void 0===_?void 0:_.dob)&&(null===(q=t.children)||void 0===q||null===(U=q[u])||void 0===U?void 0:U.dob)),children:(null===(Z=g.children)||void 0===Z||null===(J=Z[u])||void 0===J?void 0:J.dob)&&(null===(Q=t.children)||void 0===Q||null===($=Q[u])||void 0===$?void 0:$.dob)})]}),(0,I.jsx)(a.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,I.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:i,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,I.jsx)(c.A,{value:"Male",children:"Boy"}),(0,I.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,I.jsx)(r.A,{error:Boolean((null===(ee=g.children)||void 0===ee||null===(te=ee[u])||void 0===te?void 0:te.gender)&&(null===(le=t.children)||void 0===le||null===(ie=le[u])||void 0===ie?void 0:ie.gender)),children:(null===(oe=g.children)||void 0===oe||null===(ae=oe[u])||void 0===ae?void 0:ae.gender)&&(null===(ne=t.children)||void 0===ne||null===(de=ne[u])||void 0===de?void 0:de.gender)})]}),Y&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,I.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:i,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[4,5,6,7,8,9,10].map((e=>(0,I.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,I.jsx)(r.A,{error:Boolean((null===(re=g.children)||void 0===re||null===(se=re[u])||void 0===se?void 0:se.standard)&&(null===(ce=t.children)||void 0===ce||null===(ue=ce[u])||void 0===ue?void 0:ue.standard)),children:(null===(he=g.children)||void 0===he||null===(pe=he[u])||void 0===pe?void 0:pe.standard)&&(null===(ve=t.children)||void 0===ve||null===(me=ve[u])||void 0===me?void 0:me.standard)})]})]})]},u)}))})}}),(0,I.jsxs)(n.Ay,{children:[(0,I.jsx)(o.A,{sx:{marginTop:"26px"},children:(0,I.jsxs)(u.A,{type:"submit",variant:"contained",disabled:z,fullWidth:!0,children:["Save",z&&(0,I.jsx)(x.A,{})]})}),(0,I.jsx)(o.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})]})}},5658:(e,t,l)=>{l.d(t,{A:()=>n,K:()=>a});var i=l(7056),o=l(2400);function a(e){return(0,o.Ay)("MuiDivider",e)}const n=(0,i.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},1449:(e,t,l)=>{l.d(t,{A:()=>S});var i=l(8587),o=l(8168),a=l(5043),n=l(8387),d=l(8606),r=l(7266),s=l(4535),c=l(1475),u=l(2876),h=l(1347),p=l(2383),v=l(5013),m=l(5849),g=l(5658),x=l(7056);const b=(0,x.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=l(5671),y=l(2400);function f(e){return(0,y.Ay)("MuiMenuItem",e)}const j=(0,x.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var I=l(579);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,s.Ay)(p.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,l.dense&&t.dense,l.divider&&t.divider,!l.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:l}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!l.disableGutters&&{paddingLeft:16,paddingRight:16},l.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!l.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},l.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))})),S=a.forwardRef((function(e,t){const l=(0,u.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:c=!1,divider:p=!1,disableGutters:g=!1,focusVisibleClassName:x,role:b="menuitem",tabIndex:A,className:y}=l,j=(0,i.A)(l,C),S=a.useContext(h.A),k=a.useMemo((()=>({dense:c||S.dense||!1,disableGutters:g})),[S.dense,c,g]),B=a.useRef(null);(0,v.A)((()=>{r&&B.current&&B.current.focus()}),[r]);const M=(0,o.A)({},l,{dense:k.dense,divider:p,disableGutters:g}),O=(e=>{const{disabled:t,dense:l,divider:i,disableGutters:a,selected:n,classes:r}=e,s={root:["root",l&&"dense",t&&"disabled",!a&&"gutters",i&&"divider",n&&"selected"]},c=(0,d.A)(s,f,r);return(0,o.A)({},r,c)})(l),P=(0,m.A)(B,t);let R;return l.disabled||(R=void 0!==A?A:-1),(0,I.jsx)(h.A.Provider,{value:k,children:(0,I.jsx)(w,(0,o.A)({ref:P,role:b,tabIndex:R,component:s,focusVisibleClassName:(0,n.A)(O.focusVisible,x),className:(0,n.A)(O.root,y)},j,{ownerState:M,classes:O}))})}))}}]);
//# sourceMappingURL=526.8ff9988c.chunk.js.map