"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[526],{8526:(e,t,l)=>{l.r(t),l.d(t,{default:()=>C});var i=l(5043),a=l(6446),n=l(5865),o=l(8903),d=l(9840),r=l(1673),s=l(8408),c=l(1449),u=l(1906),p=l(3516),h=l(899),v=(l(5666),l(7306)),m=l(6213),g=l(423),x=l(9416),b=l(3768),A=l(835),y=l(5903),f=l(579);const j={flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},CombineBox:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",border:"1px solid rgba(229, 229, 229, 1)",margin:"auto",maxWidth:"550px",borderRadius:"10px",padding:"40px"},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px"}},I=(0,y.A)(a.A)((e=>{let{theme:t}=e;return{padding:"15px 0px 0 0px",overflow:"auto",alignItems:"end",justifyContent:"space-between",alignContent:"space-between"}}));(0,y.A)(a.A)((e=>{let{theme:t}=e;return{padding:"45px",borderTop:"2px solid #D8D8D8","@media(max-width:767px)":{padding:"30px"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{maxWidth:"330px","@media(max-width:767px)":{width:"100%"}}})),(0,y.A)("img")((e=>{let{theme:t}=e;return{width:"70px",height:"70px",margin:"0 12px"}}));const C=function(){var e,t,l,y;const C=(0,A.Zp)(),w=(0,A.zy)(),[S,k]=(0,i.useState)([]),[B,O]=(0,i.useState)(!1),[P,M]=(0,i.useState)(""),[R,W]=(0,i.useState)(""),[G,V]=(0,i.useState)(!1),[D,E]=(0,i.useState)([]),[F,L]=(0,i.useState)([]),[T,N]=(0,i.useState)(1);(0,i.useEffect)((()=>{var e;M(null===w||void 0===w||null===(e=w.state)||void 0===e?void 0:e.img)}),[null===w||void 0===w||null===(e=w.state)||void 0===e?void 0:e.img]);const z={children:[{name:(null===w||void 0===w||null===(t=w.state)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.childName)||"",schoolId:"",dob:"",gender:"",standard:""}]};(0,i.useEffect)((()=>{Y()}),[]);const Y=async()=>{try{let e=await m.A.get(v.A.getSchool);200===e.status&&(E(e.data.data),L(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};(0,i.useEffect)((()=>{H()}),[]);const H=async()=>{const e=localStorage.getItem("token");try{const t=await(0,m.A)({method:"GET",url:v.A.getAllChild,headers:{token:e}});200===t.status&&k(t.data.data)}catch(t){console.log(t,"error")}},X=e=>{if(e.target.files[0]){const t=e.target.files[0];W(t),(async e=>{const t=localStorage.getItem("token");V(!0);try{const l=new FormData;l.append("image",e);const i=await(0,m.A)({method:"POST",url:v.A.photo,headers:{token:t},data:l});200===i.status&&(M(i.data.result),V(!1))}catch(l){console.log(l,"error"),V(!1)}})(t);const l=new FileReader;l.onload=()=>{},l.readAsDataURL(t)}else W(P)};return(0,f.jsxs)(I,{children:[(0,f.jsx)(a.A,{sx:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",margin:"auto",maxWidth:"550px",borderRadius:"10px"},children:(0,f.jsxs)(a.A,{sx:{display:"flex",gap:"15px",alignItems:"center",cursor:"pointer"},onClick:()=>{C("/update-profile")},children:[(0,f.jsx)(g.K9R,{color:"rgba(182, 183, 184, 1)"}),(0,f.jsxs)(n.A,{children:[(null===w||void 0===w||null===(y=w.state)||void 0===y?void 0:y.name)||"--"," Profile"]})]})}),(0,f.jsxs)(a.A,{sx:j.CombineBox,children:[(0,f.jsxs)("div",{style:{display:"grid",justifyContent:"center",alignItems:"center"},children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",position:"relative"},children:[(0,f.jsx)("img",{src:P||"images/defaultPic.png",alt:"",style:{width:"80px",height:"80px",borderRadius:"50%"}}),(0,f.jsx)("div",{style:{position:"absolute",bottom:"-10px",right:"35px"},children:(0,f.jsxs)(a.A,{sx:j.editBox,children:[(0,f.jsx)("input",{type:"file",accept:"image/*",multiple:"false",style:{position:"absolute",zIndex:"1",width:"-webkit-fill-available",overflow:"hidden",height:"100%",opacity:"0"},onChange:e=>X(e)}),(0,f.jsx)("img",{src:"images/editProfile.svg",style:{width:"35px",height:"35px",cursor:"pointer"}})]})})]}),(0,f.jsx)(n.A,{children:"Change Profile Photo"})]}),(0,f.jsx)(p.l1,{onSubmit:async e=>{var t,l,i;V(!0);let a=e.children.map((e=>{var t;return{childName:e.name,schoolId:null===(t=D.find((t=>t.schoolId==e.schoolId)))||void 0===t?void 0:t._id,dob:e.dob,standard:e.standard,gender:e.gender}})),n=null!==w&&void 0!==w&&null!==(t=w.state)&&void 0!==t&&t.childId?"".concat(v.A.updateChild,"?childId=").concat(null===(l=w.state)||void 0===l?void 0:l.childId):v.A.createChild,o=(null!==w&&void 0!==w&&null!==(i=w.state)&&void 0!==i&&i.childId,[{...a[0],profilePic:P}]);try{var d;let e="";e=null!==w&&void 0!==w&&null!==(d=w.state)&&void 0!==d&&d.childId?await m.A.put(n,o[0],{headers:{token:localStorage.getItem("token")}}):await m.A.post(n,o,{headers:{token:localStorage.getItem("token")}}),200===e.status&&(b.Ay.success(e.data.message),V(!1),C("/update-profile"))}catch(r){b.Ay.error(r.response.data.message),V(!1)}},initialValues:z,validationSchema:h.Ik().shape({children:h.YO().of(h.Ik().shape({name:h.Yj().required("Please enter your full name."),schoolId:h.Yj(),dob:h.Yj(),gender:h.Yj(),standard:h.Yj()}))}),children:e=>{let{errors:t,handleBlur:l,handleChange:i,handleSubmit:h,touched:g,values:b}=e;return(0,f.jsxs)(p.lV,{onSubmit:h,children:[(0,f.jsx)(p.ED,{name:"children",children:e=>{let{push:u,remove:p}=e;return(0,f.jsx)(f.Fragment,{children:b.children.map(((e,u)=>{var p,h,x,b,A,y,j,I,C,w,S,k,P,M,R,W,G,V,D,E,F,L,T,N,z,Y,H,X,K,_,q,U,Z,J,Q,$,ee,te,le,ie,ae,ne,oe,de,re,se,ce,ue,pe,he,ve,me;return(0,f.jsxs)(o.Ay,{sx:{margin:"13px 0"},children:[(0,f.jsxs)(a.A,{sx:{margin:"13px 0"},children:[(0,f.jsx)(d.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(p=g.children)||void 0===p||null===(h=p[u])||void 0===h?void 0:h.name)&&(null===(x=t.children)||void 0===x||null===(b=x[u])||void 0===b?void 0:b.name)),onBlur:l,onChange:i}),(0,f.jsx)(r.A,{error:Boolean((null===(A=g.children)||void 0===A||null===(y=A[u])||void 0===y?void 0:y.name)&&(null===(j=t.children)||void 0===j||null===(I=j[u])||void 0===I?void 0:I.name)),children:(null===(C=g.children)||void 0===C||null===(w=C[u])||void 0===w?void 0:w.name)&&(null===(S=t.children)||void 0===S||null===(k=S[u])||void 0===k?void 0:k.name)})]}),(0,f.jsxs)(a.A,{sx:{margin:"13px 0"},children:[(0,f.jsx)(d.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(P=g.children)||void 0===P||null===(M=P[u])||void 0===M?void 0:M.schoolId)&&(null===(R=t.children)||void 0===R||null===(W=R[u])||void 0===W?void 0:W.schoolId)),onBlur:l,onChange:e=>{i(e),(async e=>{const t=localStorage.getItem("token");try{const l=await(0,m.A)({method:"GET",url:v.A.schoolIdCheck,headers:{token:t},params:{school_id:e}});200===l.status&&(console.log(l.data.data,"reslut"),O(l.data.data))}catch(l){console.log(l,"error")}})(e.target.value)}}),(0,f.jsx)(r.A,{error:Boolean((null===(G=g.children)||void 0===G||null===(V=G[u])||void 0===V?void 0:V.schoolId)&&(null===(D=t.children)||void 0===D||null===(E=D[u])||void 0===E?void 0:E.schoolId)),children:(null===(F=g.children)||void 0===F||null===(L=F[u])||void 0===L?void 0:L.schoolId)&&(null===(T=t.children)||void 0===T||null===(N=T[u])||void 0===N?void 0:N.schoolId)})]}),(0,f.jsxs)(a.A,{sx:{margin:"13px 0"},children:[(0,f.jsx)(d.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(z=g.children)||void 0===z||null===(Y=z[u])||void 0===Y?void 0:Y.dob)&&(null===(H=t.children)||void 0===H||null===(X=H[u])||void 0===X?void 0:X.dob)),onBlur:l,onChange:i}),(0,f.jsx)(r.A,{error:Boolean((null===(K=g.children)||void 0===K||null===(_=K[u])||void 0===_?void 0:_.dob)&&(null===(q=t.children)||void 0===q||null===(U=q[u])||void 0===U?void 0:U.dob)),children:(null===(Z=g.children)||void 0===Z||null===(J=Z[u])||void 0===J?void 0:J.dob)&&(null===(Q=t.children)||void 0===Q||null===($=Q[u])||void 0===$?void 0:$.dob)})]}),(0,f.jsx)(n.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,f.jsxs)(a.A,{sx:{margin:"13px 0"},children:[(0,f.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:i,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,f.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,f.jsx)(c.A,{value:"Male",children:"Boy"}),(0,f.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,f.jsx)(r.A,{error:Boolean((null===(ee=g.children)||void 0===ee||null===(te=ee[u])||void 0===te?void 0:te.gender)&&(null===(le=t.children)||void 0===le||null===(ie=le[u])||void 0===ie?void 0:ie.gender)),children:(null===(ae=g.children)||void 0===ae||null===(ne=ae[u])||void 0===ne?void 0:ne.gender)&&(null===(oe=t.children)||void 0===oe||null===(de=oe[u])||void 0===de?void 0:de.gender)})]}),B&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,f.jsxs)(a.A,{sx:{margin:"13px 0"},children:[(0,f.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:i,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,f.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[4,5,6,7,8,9,10].map((e=>(0,f.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,f.jsx)(r.A,{error:Boolean((null===(re=g.children)||void 0===re||null===(se=re[u])||void 0===se?void 0:se.standard)&&(null===(ce=t.children)||void 0===ce||null===(ue=ce[u])||void 0===ue?void 0:ue.standard)),children:(null===(pe=g.children)||void 0===pe||null===(he=pe[u])||void 0===he?void 0:he.standard)&&(null===(ve=t.children)||void 0===ve||null===(me=ve[u])||void 0===me?void 0:me.standard)})]})]})]},u)}))})}}),(0,f.jsxs)(o.Ay,{children:[(0,f.jsx)(a.A,{sx:{marginTop:"26px"},children:(0,f.jsxs)(u.A,{type:"submit",variant:"contained",disabled:G,fullWidth:!0,children:["Save",G&&(0,f.jsx)(x.A,{})]})}),(0,f.jsx)(a.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})]})}},5658:(e,t,l)=>{l.d(t,{A:()=>o,K:()=>n});var i=l(7056),a=l(2400);function n(e){return(0,a.Ay)("MuiDivider",e)}const o=(0,i.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},1449:(e,t,l)=>{l.d(t,{A:()=>S});var i=l(8587),a=l(8168),n=l(5043),o=l(8387),d=l(8606),r=l(7266),s=l(4535),c=l(1475),u=l(2876),p=l(1347),h=l(2383),v=l(5013),m=l(5849),g=l(5658),x=l(7056);const b=(0,x.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=l(5671),y=l(2400);function f(e){return(0,y.Ay)("MuiMenuItem",e)}const j=(0,x.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var I=l(579);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,s.Ay)(h.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,l.dense&&t.dense,l.divider&&t.divider,!l.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:l}=e;return(0,a.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!l.disableGutters&&{paddingLeft:16,paddingRight:16},l.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!l.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},l.dense&&(0,a.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))})),S=n.forwardRef((function(e,t){const l=(0,u.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:c=!1,divider:h=!1,disableGutters:g=!1,focusVisibleClassName:x,role:b="menuitem",tabIndex:A,className:y}=l,j=(0,i.A)(l,C),S=n.useContext(p.A),k=n.useMemo((()=>({dense:c||S.dense||!1,disableGutters:g})),[S.dense,c,g]),B=n.useRef(null);(0,v.A)((()=>{r&&B.current&&B.current.focus()}),[r]);const O=(0,a.A)({},l,{dense:k.dense,divider:h,disableGutters:g}),P=(e=>{const{disabled:t,dense:l,divider:i,disableGutters:n,selected:o,classes:r}=e,s={root:["root",l&&"dense",t&&"disabled",!n&&"gutters",i&&"divider",o&&"selected"]},c=(0,d.A)(s,f,r);return(0,a.A)({},r,c)})(l),M=(0,m.A)(B,t);let R;return l.disabled||(R=void 0!==A?A:-1),(0,I.jsx)(p.A.Provider,{value:k,children:(0,I.jsx)(w,(0,a.A)({ref:M,role:b,tabIndex:R,component:s,focusVisibleClassName:(0,o.A)(P.focusVisible,x),className:(0,o.A)(P.root,y)},j,{ownerState:O,classes:P}))})}))}}]);
//# sourceMappingURL=526.1af9af5e.chunk.js.map