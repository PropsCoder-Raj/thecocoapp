"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[387],{7306:(e,l,n)=>{n.d(l,{A:()=>o});const d="http://thecocoapp.com:8080/api/v1/",o={loginGenerateOtp:"".concat(d,"auth/login/generate-otp"),loginVerifyOtp:"".concat(d,"auth/login/verify-otp"),signupGenerateOtp:"".concat(d,"auth/signup/generate-otp"),signupVerifiedEmail:"".concat(d,"auth/signup-with-verfied-email"),signupVerifyOtp:"".concat(d,"auth/signup/verify-otp"),createChild:"".concat(d,"child/create"),getSchool:"".concat(d,"school/get-all-schools")}},768:(e,l,n)=>{n.r(l),n.d(l,{default:()=>D});var d=n(5043),o=n(6446),i=n(5865),r=n(8903),a=n(9840),s=n(1673),t=n(8408),c=n(7970),h=n(1906),u=n(3516),v=n(899),p=n(5666),x=n(7306),g=n(6213),m=n(835),j=n(8877),A=n(9698),b=n(9416),f=n(3768),y=n(2620),I=n(4689),C=n(749),S=n(579);const D=function(e){const[l,n]=(0,d.useState)(!1),[D,B]=(0,d.useState)([]),[k,P]=(0,d.useState)([]),[w,V]=(0,d.useState)(1),W=(0,m.Zp)();(0,d.useEffect)((()=>{q()}),[]);const q=async()=>{try{const e=await g.A.get(x.A.getSchool);200===e.status&&(B(e.data.data),P(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};return(0,S.jsx)(p.A,{title:"Add Child",children:(0,S.jsxs)(o.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,S.jsx)(i.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Let\u2019s find the right modules for you"}),(0,S.jsx)(i.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:"This helps us show modules that are tailored for your child"}),console.log("schoolIds: ",k),(0,S.jsx)(u.l1,{onSubmit:async e=>{n(!0);let l=e.children.map((e=>{var l;return{childName:e.name,schoolId:null===(l=D.find((l=>l.schoolId==e.schoolId)))||void 0===l?void 0:l._id,dob:e.dob,standard:e.standard,gender:e.gender}}));try{const e=await g.A.post(x.A.createChild,l,{headers:{token:localStorage.getItem("token")}});200===e.status&&(f.Ay.success(e.data.message),n(!1),W("/dashboard"))}catch(d){n(!1)}},initialValues:{children:[{name:"",schoolId:"",dob:"",gender:"",standard:""}]},validationSchema:v.Ik().shape({children:v.YO().of(v.Ik().shape({name:v.Yj().required("Please enter your full name."),schoolId:v.ai().oneOf(k,"Please enter a valid school id.").required("Please enter your school id."),dob:v.Yj().required("Date of birth is required.").test("dob","Child must be at least 5 years old.",(e=>{console.log("value: ",e);const l=(0,I.d)(new Date,5);return console.log("parsedDate: ",e),(0,C.Y)(e,l)})),gender:v.Yj().required("Please select a gender."),standard:v.Yj().required("Please choose a standard.")}))}),children:e=>{let{errors:n,handleBlur:d,handleChange:v,handleSubmit:p,touched:x,values:g}=e;return(0,S.jsxs)(u.lV,{onSubmit:p,children:[(0,S.jsx)(u.ED,{name:"children",children:e=>{let{push:l,remove:h}=e;return(0,S.jsx)(S.Fragment,{children:g.children.map(((e,u)=>{var p,g,m,b,f,I,C,D,B,k,P,W,q,z,E,O,Y,G,L,F,R,T,Z,M,N,_,H,J,K,Q,U,X,$,ee,le,ne,de,oe,ie,re,ae,se,te,ce,he,ue,ve,pe,xe,ge,me,je;return(0,S.jsxs)(r.Ay,{sx:{margin:"13px 0"},children:[(0,S.jsx)(i.A,{variant:"h5",sx:{textAlign:"start",marginBottom:"7px"},children:0===u?"First child":"Child ".concat(u+1)}),(0,S.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,S.jsx)(a.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(p=x.children)||void 0===p||null===(g=p[u])||void 0===g?void 0:g.name)&&(null===(m=n.children)||void 0===m||null===(b=m[u])||void 0===b?void 0:b.name)),onBlur:d,onChange:v}),(0,S.jsx)(s.A,{error:Boolean((null===(f=x.children)||void 0===f||null===(I=f[u])||void 0===I?void 0:I.name)&&(null===(C=n.children)||void 0===C||null===(D=C[u])||void 0===D?void 0:D.name)),children:(null===(B=x.children)||void 0===B||null===(k=B[u])||void 0===k?void 0:k.name)&&(null===(P=n.children)||void 0===P||null===(W=P[u])||void 0===W?void 0:W.name)})]}),(0,S.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,S.jsx)(a.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(q=x.children)||void 0===q||null===(z=q[u])||void 0===z?void 0:z.schoolId)&&(null===(E=n.children)||void 0===E||null===(O=E[u])||void 0===O?void 0:O.schoolId)),onBlur:d,onChange:v}),(0,S.jsx)(s.A,{error:Boolean((null===(Y=x.children)||void 0===Y||null===(G=Y[u])||void 0===G?void 0:G.schoolId)&&(null===(L=n.children)||void 0===L||null===(F=L[u])||void 0===F?void 0:F.schoolId)),children:(null===(R=x.children)||void 0===R||null===(T=R[u])||void 0===T?void 0:T.schoolId)&&(null===(Z=n.children)||void 0===Z||null===(M=Z[u])||void 0===M?void 0:M.schoolId)})]}),(0,S.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,S.jsx)(a.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(N=x.children)||void 0===N||null===(_=N[u])||void 0===_?void 0:_.dob)&&(null===(H=n.children)||void 0===H||null===(J=H[u])||void 0===J?void 0:J.dob)),onBlur:d,onChange:v}),(0,S.jsx)(s.A,{error:Boolean((null===(K=x.children)||void 0===K||null===(Q=K[u])||void 0===Q?void 0:Q.dob)&&(null===(U=n.children)||void 0===U||null===(X=U[u])||void 0===X?void 0:X.dob)),children:(null===($=x.children)||void 0===$||null===(ee=$[u])||void 0===ee?void 0:ee.dob)&&(null===(le=n.children)||void 0===le||null===(ne=le[u])||void 0===ne?void 0:ne.dob)})]}),(0,S.jsx)(i.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,S.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,S.jsxs)(t.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:v,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,S.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,S.jsx)(c.A,{value:"Male",children:"Boy"}),(0,S.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,S.jsx)(s.A,{error:Boolean((null===(de=x.children)||void 0===de||null===(oe=de[u])||void 0===oe?void 0:oe.gender)&&(null===(ie=n.children)||void 0===ie||null===(re=ie[u])||void 0===re?void 0:re.gender)),children:(null===(ae=x.children)||void 0===ae||null===(se=ae[u])||void 0===se?void 0:se.gender)&&(null===(te=n.children)||void 0===te||null===(ce=te[u])||void 0===ce?void 0:ce.gender)})]}),(0,S.jsx)(i.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,S.jsxs)(o.A,{sx:{margin:"13px 0"},children:[(0,S.jsxs)(t.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:v,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,S.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[1,2,3,4,5,6].map((e=>(0,S.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,S.jsx)(s.A,{error:Boolean((null===(he=x.children)||void 0===he||null===(ue=he[u])||void 0===ue?void 0:ue.standard)&&(null===(ve=n.children)||void 0===ve||null===(pe=ve[u])||void 0===pe?void 0:pe.standard)),children:(null===(xe=x.children)||void 0===xe||null===(ge=xe[u])||void 0===ge?void 0:ge.standard)&&(null===(me=n.children)||void 0===me||null===(je=me[u])||void 0===je?void 0:je.standard)})]}),1===w?(0,S.jsxs)(o.A,{sx:{padding:"11px 13px",border:"1px solid rgba(216, 216, 216, 1)",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer"},onClick:()=>{l({name:"",schoolId:"",dob:"",gender:"",standard:""}),V(2)},children:[(0,S.jsxs)(o.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,S.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,S.jsx)(i.A,{variant:"body2",children:"Add child"})]}),(0,S.jsx)(y.Zh9,{style:{color:"#D8D8D8",fontSize:"22px"}})]}):(0,S.jsxs)(o.A,{sx:{padding:"11px 13px",border:"1px solid rgba(216, 216, 216, 1)",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer",marginTop:"10px"},onClick:()=>{h(u),V(1)},children:[(0,S.jsxs)(o.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,S.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,S.jsx)(i.A,{variant:"body2",children:"Remove child"})]})," ",(0,S.jsx)(A.ubV,{style:{color:"#D8D8D8",fontSize:"22px"}})]})]},u)}))})}}),(0,S.jsxs)(r.Ay,{children:[(0,S.jsx)(o.A,{sx:{marginTop:"26px"},children:(0,S.jsxs)(h.A,{type:"submit",variant:"contained",disabled:l,fullWidth:!0,children:["Continue",l&&(0,S.jsx)(b.A,{})]})}),(0,S.jsx)(o.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})})}}}]);
//# sourceMappingURL=387.751a1978.chunk.js.map