"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[479],{7306:(e,t,i)=>{i.d(t,{A:()=>a});const n="http://thecocoapp.com:8080/api/v1/",a={loginGenerateOtp:"".concat(n,"auth/login/email-with-pin"),loginVerifyOtp:"".concat(n,"auth/login/verify-otp"),signupGenerateOtp:"".concat(n,"auth/signup/generate-otp"),signupVerifiedEmail:"".concat(n,"auth/signup-with-verfied-email-pin"),signupVerifyOtp:"".concat(n,"auth/signup/verify-otp"),setPin:"".concat(n,"auth/send-otp-for-set-pin"),setPinChange:"".concat(n,"auth/verify-otp-for-pin-change"),resetPin:"".concat(n,"auth/reset-pin-password"),createChild:"".concat(n,"child/create"),getSchool:"".concat(n,"school/get-all-schools"),getAllChild:"".concat(n,"child/get-all-childs"),switchChild:"".concat(n,"child/switch-to-active-child"),allModules:"".concat(n,"dashboard/get-all-modules"),getLeason:"".concat(n,"dashboard/get-lessons"),getQuestions:"".concat(n,"dashboard/get-questions"),attemptQuestions:"".concat(n,"questions/attempt-questions")}},7479:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(5043),a=i(6446),o=i(5865),r=i(8903),s=i(9840),l=i(1673),c=i(3193),p=i(1906),d=i(3516),h=i(899),u=i(5666),g=i(7306),m=i(6213),x=i(835),y=i(9416),j=i(3768),A=i(4942),b=(i(6178),i(5237)),f=i.n(b),v=i(579);const C={otpFormControl:{"& input":{color:"#0B1426",width:"48px !important",height:"48px !important",marginRight:"10px !important",border:"1px solid #D8D8D8",borderRadius:"8px","@media(max-width:460px)":{width:"45px !important",height:"45px !important",marginRight:"7px !important"}}}};const w=function(e){const[t,i]=(0,n.useState)(!1),b=(0,x.Zp)();return(0,n.useContext)(A.c),(0,n.useEffect)((()=>{localStorage.removeItem("emailReset")}),[]),(0,v.jsx)(u.A,{title:"Login",children:(0,v.jsxs)(a.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,v.jsx)(o.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Login"}),(0,v.jsxs)(o.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:["Welcome back! Login now to see",(0,v.jsx)("br",{})," where you left off"]}),(0,v.jsx)(d.l1,{onSubmit:async e=>{i(!0);try{const t=await m.A.post(g.A.loginGenerateOtp,{email:e.email,pin:e.pin});200===t.status&&(j.Ay.success(t.data.message),i(!1),b("/dashboard"),localStorage.setItem("token",t.data.token))}catch(a){var t,n;j.Ay.error((null===a||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong please try again later"),i(!1)}},initialValues:{email:"",pin:""},validationSchema:h.Ik().shape({email:h.Yj().required("Please enter your email address."),pin:h.Yj().length(4,"OTP must be 4 digits").required("Please enter your OTP.")}),children:e=>{let{errors:i,handleBlur:n,handleChange:h,handleSubmit:u,touched:g,values:m,setFieldValue:x}=e;return(0,v.jsxs)(d.lV,{onSubmit:u,children:[(0,v.jsxs)(r.Ay,{sx:{margin:"13px 0"},children:[(0,v.jsx)(s.A,{placeholder:"Email ID",type:"email",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:m.email,name:"email",error:Boolean(g.email&&i.email),onBlur:n,onChange:h,SX:{padding:"8px 13px"}}),(0,v.jsx)(l.A,{error:!0,children:g.email&&i.email})]}),(0,v.jsx)(r.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,v.jsxs)(a.A,{children:[(0,v.jsx)(o.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{marginBottom:"13px"},children:"Enter 4-digit pin"}),(0,v.jsx)(c.A,{fullWidth:!0,error:Boolean(g.pin&&i.pin),sx:C.otpFormControl,children:(0,v.jsx)(f(),{value:m.pin,inputVariant:"standard",autoComplete:"off",onChange:e=>{x("pin",e)},name:"pin",id:"inputID",style:{display:"flex",justifyContent:"start",width:"100%",gap:"15px"},OTPLength:4,otpType:"number"})}),g.pin&&i.pin&&(0,v.jsx)(l.A,{error:!0,children:i.pin})]})}),(0,v.jsx)(r.Ay,{sx:{margin:"13px 0",textAlign:"start"},children:(0,v.jsx)(o.A,{variant:"body1",color:"rgba(67, 69, 71, 1)",sx:{cursor:"pointer"},onClick:()=>{b("/reset-pin")},children:"Reset pin?"})}),(0,v.jsxs)(r.Ay,{children:[(0,v.jsx)(a.A,{sx:{marginTop:"26px"},children:(0,v.jsxs)(p.A,{type:"submit",variant:"contained",disabled:t,fullWidth:!0,children:["Login",t&&(0,v.jsx)(y.A,{})]})}),(0,v.jsx)(a.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"},children:(0,v.jsxs)(o.A,{variant:"body1",color:"rgba(60, 60, 60, 1)",children:["Don\u2019t have an account?",(0,v.jsx)("span",{onClick:()=>{b("/sign-up")},style:{color:"rgba(0, 186, 242, 1)",cursor:"pointer"},children:"\xa0Sign up"})]})})]})]})}})]})})}}}]);
//# sourceMappingURL=479.1a93fb39.chunk.js.map