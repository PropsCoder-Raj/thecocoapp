"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[387],{768:(l,e,d)=>{d.r(e),d.d(e,{default:()=>S});var n=d(5043),i=d(6446),o=d(5865),r=d(8903),a=d(9840),s=d(1673),t=d(8408),c=d(1449),h=d(1906),u=d(3516),v=d(899),x=d(6005),p=d(7306),m=d(6213),g=d(835),j=d(8877),A=d(9698),b=d(9416),y=d(3768),f=d(2620),I=d(3825),C=d(579);const S=function(l){const[e,d]=(0,n.useState)(!1),[S,B]=(0,n.useState)([]),[D,k]=(0,n.useState)([]),[E,W]=(0,n.useState)(1),[w,z]=(0,n.useState)(!1),P=(0,g.Zp)();(0,n.useEffect)((()=>{Y()}),[]);const Y=async()=>{try{const l=await m.A.get(p.A.getSchool);200===l.status&&(B(l.data.data),k(l.data.data.map((l=>null===l||void 0===l?void 0:l.schoolId))))}catch(l){}};return(0,C.jsx)(x.A,{title:"Add Child",children:(0,C.jsxs)(i.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,C.jsx)(o.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Let\u2019s find the right modules for you"}),(0,C.jsx)(o.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:"This helps us show modules that are tailored for your child"}),(0,C.jsx)(u.l1,{onSubmit:async l=>{d(!0);let e=l.children.map((l=>{var e;return{childName:l.name,schoolId:null===(e=S.find((e=>e.schoolId==l.schoolId)))||void 0===e?void 0:e._id,dob:l.dob,standard:l.standard,gender:l.gender}}));try{const l=await m.A.post(p.A.createChild,e,{headers:{token:localStorage.getItem("token")}});200===l.status&&(y.Ay.success(l.data.message),d(!1),P("/dashboard"))}catch(n){d(!1)}},initialValues:{children:[{name:"",schoolId:"",dob:"",gender:"",standard:""}]},validationSchema:v.Ik().shape({children:v.YO().of(v.Ik().shape({name:v.Yj().required("Please enter your full name."),schoolId:v.Yj(),dob:v.Yj(),gender:v.Yj(),standard:v.Yj()}))}),children:l=>{let{errors:d,handleBlur:n,handleChange:v,handleSubmit:x,touched:p,values:m}=l;return(0,C.jsxs)(u.lV,{onSubmit:x,children:[(0,C.jsx)(u.ED,{name:"children",children:l=>{let{push:e,remove:h}=l;return(0,C.jsx)(C.Fragment,{children:m.children.map(((l,u)=>{var x,m,g,b,y,I,S,B,D,k,w,z,P,Y,V,F,L,T,R,G,Z,q,M,N,O,_,H,J,K,Q,U,X,$,ll,el,dl,nl,il,ol,rl,al,sl,tl,cl,hl,ul,vl,xl,pl,ml,gl,jl;return(0,C.jsxs)(r.Ay,{sx:{margin:"13px 0"},children:[(0,C.jsx)(o.A,{variant:"h5",sx:{textAlign:"start",marginBottom:"7px"},children:0===u?"First child":"Child ".concat(u+1)}),(0,C.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,C.jsx)(a.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:l.name,name:"children.".concat(u,".name"),error:Boolean((null===(x=p.children)||void 0===x||null===(m=x[u])||void 0===m?void 0:m.name)&&(null===(g=d.children)||void 0===g||null===(b=g[u])||void 0===b?void 0:b.name)),onBlur:n,onChange:v}),(0,C.jsx)(s.A,{error:Boolean((null===(y=p.children)||void 0===y||null===(I=y[u])||void 0===I?void 0:I.name)&&(null===(S=d.children)||void 0===S||null===(B=S[u])||void 0===B?void 0:B.name)),children:(null===(D=p.children)||void 0===D||null===(k=D[u])||void 0===k?void 0:k.name)&&(null===(w=d.children)||void 0===w||null===(z=w[u])||void 0===z?void 0:z.name)})]}),(0,C.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,C.jsx)(a.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:l.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(P=p.children)||void 0===P||null===(Y=P[u])||void 0===Y?void 0:Y.schoolId)&&(null===(V=d.children)||void 0===V||null===(F=V[u])||void 0===F?void 0:F.schoolId)),onBlur:n,onChange:v}),(0,C.jsx)(s.A,{error:Boolean((null===(L=p.children)||void 0===L||null===(T=L[u])||void 0===T?void 0:T.schoolId)&&(null===(R=d.children)||void 0===R||null===(G=R[u])||void 0===G?void 0:G.schoolId)),children:(null===(Z=p.children)||void 0===Z||null===(q=Z[u])||void 0===q?void 0:q.schoolId)&&(null===(M=d.children)||void 0===M||null===(N=M[u])||void 0===N?void 0:N.schoolId)})]}),(0,C.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,C.jsx)(a.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:l.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(O=p.children)||void 0===O||null===(_=O[u])||void 0===_?void 0:_.dob)&&(null===(H=d.children)||void 0===H||null===(J=H[u])||void 0===J?void 0:J.dob)),onBlur:n,onChange:v}),(0,C.jsx)(s.A,{error:Boolean((null===(K=p.children)||void 0===K||null===(Q=K[u])||void 0===Q?void 0:Q.dob)&&(null===(U=d.children)||void 0===U||null===(X=U[u])||void 0===X?void 0:X.dob)),children:(null===($=p.children)||void 0===$||null===(ll=$[u])||void 0===ll?void 0:ll.dob)&&(null===(el=d.children)||void 0===el||null===(dl=el[u])||void 0===dl?void 0:dl.dob)})]}),(0,C.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,C.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,C.jsxs)(t.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:l.gender,onChange:v,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,C.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,C.jsx)(c.A,{value:"Male",children:"Boy"}),(0,C.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,C.jsx)(s.A,{error:Boolean((null===(nl=p.children)||void 0===nl||null===(il=nl[u])||void 0===il?void 0:il.gender)&&(null===(ol=d.children)||void 0===ol||null===(rl=ol[u])||void 0===rl?void 0:rl.gender)),children:(null===(al=p.children)||void 0===al||null===(sl=al[u])||void 0===sl?void 0:sl.gender)&&(null===(tl=d.children)||void 0===tl||null===(cl=tl[u])||void 0===cl?void 0:cl.gender)})]}),l.schoolId&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,C.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,C.jsxs)(t.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:l.standard,onChange:v,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,C.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[4,5,6,7,8,9,10].map((l=>(0,C.jsx)(c.A,{value:l.toString(),children:l},l)))]}),(0,C.jsx)(s.A,{error:Boolean((null===(hl=p.children)||void 0===hl||null===(ul=hl[u])||void 0===ul?void 0:ul.standard)&&(null===(vl=d.children)||void 0===vl||null===(xl=vl[u])||void 0===xl?void 0:xl.standard)),children:(null===(pl=p.children)||void 0===pl||null===(ml=pl[u])||void 0===ml?void 0:ml.standard)&&(null===(gl=d.children)||void 0===gl||null===(jl=gl[u])||void 0===jl?void 0:jl.standard)})]})]}),1===E?(0,C.jsxs)(i.A,{sx:{padding:"11px 13px",border:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer"},onClick:()=>{e({name:"",schoolId:"",dob:"",gender:"",standard:""}),W(2)},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,C.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,C.jsx)(o.A,{variant:"body2",children:"Add child"})]}),(0,C.jsx)(f.Zh9,{style:{color:"#D8D8D8",fontSize:"22px"}})]}):(0,C.jsxs)(i.A,{sx:{padding:"11px 13px",border:"1px solid #E5E5E5",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer",marginTop:"10px"},onClick:()=>{h(u),W(1)},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,C.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,C.jsx)(o.A,{variant:"body2",children:"Remove child"})]})," ",(0,C.jsx)(A.ubV,{style:{color:"#D8D8D8",fontSize:"22px"}})]})]},u)}))})}}),(0,C.jsxs)(r.Ay,{children:[(0,C.jsxs)(i.A,{sx:{marginTop:"26px"},children:[(0,C.jsxs)(h.A,{type:"submit",variant:"contained",disabled:e,fullWidth:!0,children:["Continue",e&&(0,C.jsx)(b.A,{})]}),(0,C.jsxs)(i.A,{sx:{display:"flex",justifyContent:"center",marginTop:"18px",cursor:"pointer",alignItems:"center",gap:"8px"},onClick:()=>{P("/dashboard")},children:[(0,C.jsx)(o.A,{variant:"body1",color:"rgba(0, 186, 242, 1)",children:"Skip"}),(0,C.jsx)(I.Id5,{style:{color:"rgba(0, 186, 242, 1)"}})]})]}),(0,C.jsx)(i.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})})}}}]);
//# sourceMappingURL=387.6b315490.chunk.js.map