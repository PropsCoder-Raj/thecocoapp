"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[387],{7306:(e,l,n)=>{n.d(l,{A:()=>i});const d="http://thecocoapp.com:8080/api/v1/",i={loginGenerateOtp:"".concat(d,"auth/login/generate-otp"),loginVerifyOtp:"".concat(d,"auth/login/verify-otp"),signupGenerateOtp:"".concat(d,"auth/signup/generate-otp"),signupVerifiedEmail:"".concat(d,"auth/signup-with-verfied-email"),signupVerifyOtp:"".concat(d,"auth/signup/verify-otp"),createChild:"".concat(d,"child/create"),getSchool:"".concat(d,"school/get-all-schools"),getAllChild:"".concat(d,"child/get-all-childs"),switchChild:"".concat(d,"child/switch-to-active-child"),allModules:"".concat(d,"dashboard/get-all-modules"),getLeason:"".concat(d,"dashboard/get-lessons"),getQuestions:"".concat(d,"dashboard/get-questions"),attemptQuestions:"".concat(d,"questions/attempt-questions")}},768:(e,l,n)=>{n.r(l),n.d(l,{default:()=>C});var d=n(5043),i=n(6446),o=n(5865),a=n(8903),r=n(9840),t=n(1673),s=n(8408),c=n(7970),h=n(1906),u=n(3516),v=n(899),p=n(5666),x=n(7306),g=n(6213),m=n(835),j=n(8877),A=n(9698),b=n(9416),f=n(3768),y=n(2620),I=n(579);const C=function(e){const[l,n]=(0,d.useState)(!1),[C,S]=(0,d.useState)([]),[B,D]=(0,d.useState)([]),[k,w]=(0,d.useState)(1),q=(0,m.Zp)();(0,d.useEffect)((()=>{P()}),[]);const P=async()=>{try{const e=await g.A.get(x.A.getSchool);200===e.status&&(S(e.data.data),D(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};return(0,I.jsx)(p.A,{title:"Add Child",children:(0,I.jsxs)(i.A,{sx:{display:"grid",gap:"13px",textAlign:"center"},children:[(0,I.jsx)(o.A,{variant:"h1",color:"rgba(67, 69, 71, 1)",mt:1,children:"Let\u2019s find the right modules for you"}),(0,I.jsx)(o.A,{variant:"h4",color:"rgba(67, 69, 71, 1)",children:"This helps us show modules that are tailored for your child"}),console.log("schoolIds: ",B),(0,I.jsx)(u.l1,{onSubmit:async e=>{n(!0);let l=e.children.map((e=>{var l;return{childName:e.name,schoolId:null===(l=C.find((l=>l.schoolId==e.schoolId)))||void 0===l?void 0:l._id,dob:e.dob,standard:e.standard,gender:e.gender}}));try{const e=await g.A.post(x.A.createChild,l,{headers:{token:localStorage.getItem("token")}});200===e.status&&(f.Ay.success(e.data.message),n(!1),q("/dashboard"))}catch(d){n(!1)}},initialValues:{children:[{name:"",schoolId:"",dob:"",gender:"",standard:""}]},validationSchema:v.Ik().shape({children:v.YO().of(v.Ik().shape({name:v.Yj().required("Please enter your full name."),schoolId:v.Yj(),dob:v.Yj().required("Date of birth is required."),gender:v.Yj().required("Please select a gender."),standard:v.Yj().required("Please choose a standard.")}))}),children:e=>{let{errors:n,handleBlur:d,handleChange:v,handleSubmit:p,touched:x,values:g}=e;return(0,I.jsxs)(u.lV,{onSubmit:p,children:[(0,I.jsx)(u.ED,{name:"children",children:e=>{let{push:l,remove:h}=e;return(0,I.jsx)(I.Fragment,{children:g.children.map(((e,u)=>{var p,g,m,b,f,C,S,B,D,q,P,V,W,z,E,Y,L,O,G,F,R,T,M,Q,Z,N,_,H,J,K,U,X,$,ee,le,ne,de,ie,oe,ae,re,te,se,ce,he,ue,ve,pe,xe,ge,me,je;return(0,I.jsxs)(a.Ay,{sx:{margin:"13px 0"},children:[(0,I.jsx)(o.A,{variant:"h5",sx:{textAlign:"start",marginBottom:"7px"},children:0===u?"First child":"Child ".concat(u+1)}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(r.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(p=x.children)||void 0===p||null===(g=p[u])||void 0===g?void 0:g.name)&&(null===(m=n.children)||void 0===m||null===(b=m[u])||void 0===b?void 0:b.name)),onBlur:d,onChange:v}),(0,I.jsx)(t.A,{error:Boolean((null===(f=x.children)||void 0===f||null===(C=f[u])||void 0===C?void 0:C.name)&&(null===(S=n.children)||void 0===S||null===(B=S[u])||void 0===B?void 0:B.name)),children:(null===(D=x.children)||void 0===D||null===(q=D[u])||void 0===q?void 0:q.name)&&(null===(P=n.children)||void 0===P||null===(V=P[u])||void 0===V?void 0:V.name)})]}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(r.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(W=x.children)||void 0===W||null===(z=W[u])||void 0===z?void 0:z.schoolId)&&(null===(E=n.children)||void 0===E||null===(Y=E[u])||void 0===Y?void 0:Y.schoolId)),onBlur:d,onChange:v}),(0,I.jsx)(t.A,{error:Boolean((null===(L=x.children)||void 0===L||null===(O=L[u])||void 0===O?void 0:O.schoolId)&&(null===(G=n.children)||void 0===G||null===(F=G[u])||void 0===F?void 0:F.schoolId)),children:(null===(R=x.children)||void 0===R||null===(T=R[u])||void 0===T?void 0:T.schoolId)&&(null===(M=n.children)||void 0===M||null===(Q=M[u])||void 0===Q?void 0:Q.schoolId)})]}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsx)(r.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(Z=x.children)||void 0===Z||null===(N=Z[u])||void 0===N?void 0:N.dob)&&(null===(_=n.children)||void 0===_||null===(H=_[u])||void 0===H?void 0:H.dob)),onBlur:d,onChange:v}),(0,I.jsx)(t.A,{error:Boolean((null===(J=x.children)||void 0===J||null===(K=J[u])||void 0===K?void 0:K.dob)&&(null===(U=n.children)||void 0===U||null===(X=U[u])||void 0===X?void 0:X.dob)),children:(null===($=x.children)||void 0===$||null===(ee=$[u])||void 0===ee?void 0:ee.dob)&&(null===(le=n.children)||void 0===le||null===(ne=le[u])||void 0===ne?void 0:ne.dob)})]}),(0,I.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:v,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,I.jsx)(c.A,{value:"Male",children:"Boy"}),(0,I.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,I.jsx)(t.A,{error:Boolean((null===(de=x.children)||void 0===de||null===(ie=de[u])||void 0===ie?void 0:ie.gender)&&(null===(oe=n.children)||void 0===oe||null===(ae=oe[u])||void 0===ae?void 0:ae.gender)),children:(null===(re=x.children)||void 0===re||null===(te=re[u])||void 0===te?void 0:te.gender)&&(null===(se=n.children)||void 0===se||null===(ce=se[u])||void 0===ce?void 0:ce.gender)})]}),(0,I.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,I.jsxs)(i.A,{sx:{margin:"13px 0"},children:[(0,I.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:v,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,I.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[1,2,3,4,5,6].map((e=>(0,I.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,I.jsx)(t.A,{error:Boolean((null===(he=x.children)||void 0===he||null===(ue=he[u])||void 0===ue?void 0:ue.standard)&&(null===(ve=n.children)||void 0===ve||null===(pe=ve[u])||void 0===pe?void 0:pe.standard)),children:(null===(xe=x.children)||void 0===xe||null===(ge=xe[u])||void 0===ge?void 0:ge.standard)&&(null===(me=n.children)||void 0===me||null===(je=me[u])||void 0===je?void 0:je.standard)})]}),1===k?(0,I.jsxs)(i.A,{sx:{padding:"11px 13px",border:"1px solid rgba(216, 216, 216, 1)",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer"},onClick:()=>{l({name:"",schoolId:"",dob:"",gender:"",standard:""}),w(2)},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,I.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,I.jsx)(o.A,{variant:"body2",children:"Add child"})]}),(0,I.jsx)(y.Zh9,{style:{color:"#D8D8D8",fontSize:"22px"}})]}):(0,I.jsxs)(i.A,{sx:{padding:"11px 13px",border:"1px solid rgba(216, 216, 216, 1)",display:"flex",justifyContent:"space-between",borderRadius:"5px",alignItems:"center",cursor:"pointer",marginTop:"10px"},onClick:()=>{h(u),w(1)},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,I.jsx)(j.Ve7,{style:{color:"#D8D8D8",fontSize:"25px"}}),(0,I.jsx)(o.A,{variant:"body2",children:"Remove child"})]})," ",(0,I.jsx)(A.ubV,{style:{color:"#D8D8D8",fontSize:"22px"}})]})]},u)}))})}}),(0,I.jsxs)(a.Ay,{children:[(0,I.jsx)(i.A,{sx:{marginTop:"26px"},children:(0,I.jsxs)(h.A,{type:"submit",variant:"contained",disabled:l,fullWidth:!0,children:["Continue",l&&(0,I.jsx)(b.A,{})]})}),(0,I.jsx)(i.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})})}}}]);
//# sourceMappingURL=387.68424ec2.chunk.js.map