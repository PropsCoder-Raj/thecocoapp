"use strict";(self.webpackChunkthecocoapp=self.webpackChunkthecocoapp||[]).push([[526],{8526:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var l=i(5043),n=i(6446),o=i(5865),a=i(8903),d=i(9840),r=i(1673),s=i(8408),c=i(1449),u=i(1906),p=i(3516),h=i(899),v=(i(5666),i(7306)),m=i(6213),x=i(423),g=i(9416),b=i(3768),A=i(835),f=i(5903),y=i(579);const j={flexBox:{display:"flex",justifyContent:"space-between",alignItem:"center","@media(max-width:1000px)":{},"@media(max-width:767px)":{}},editBox:{position:"relative",bottom:"0",right:"30%"},gridBox:{display:"grid",gap:"16px"},logoBox:{height:"-webkit-fill-available",alignItems:"end",display:"grid",justifyContent:"start"},CombineBox:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",border:"1px solid rgba(229, 229, 229, 1)",margin:"auto",maxWidth:"550px",borderRadius:"10px",padding:"40px"},buttonHandle:{display:"flex",justifyContent:"end",gap:"8px"},profileBox:{display:"flex",gap:"8px",padding:"10px",margin:"15px 0",border:"1px solid rgba(229, 229, 229, 1)",borderRadius:"8px"}},C=(0,f.A)(n.A)((e=>{let{theme:t}=e;return{padding:"15px 0px 0 0px",overflow:"auto",alignItems:"end",justifyContent:"space-between",alignContent:"space-between"}}));(0,f.A)(n.A)((e=>{let{theme:t}=e;return{padding:"45px",borderTop:"2px solid #D8D8D8","@media(max-width:767px)":{padding:"30px"}}})),(0,f.A)("img")((e=>{let{theme:t}=e;return{maxWidth:"330px","@media(max-width:767px)":{width:"100%"}}})),(0,f.A)("img")((e=>{let{theme:t}=e;return{width:"70px",height:"70px",margin:"0 12px"}}));const I=function(){var e,t;const i=(0,A.Zp)(),f=(0,A.zy)(),[I,w]=(0,l.useState)([]),[B,S]=(0,l.useState)(""),[k,O]=(0,l.useState)(B),[M,P]=(0,l.useState)(!1),[R,W]=(0,l.useState)([]),[V,G]=(0,l.useState)([]),[D,L]=(0,l.useState)(1);(0,l.useEffect)((()=>{var e;S(null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.img)}),[null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.img]),(0,l.useEffect)((()=>{E()}),[]);const E=async()=>{try{let e=await m.A.get(v.A.getSchool);200===e.status&&(W(e.data.data),G(e.data.data.map((e=>null===e||void 0===e?void 0:e.schoolId))))}catch(e){}};(0,l.useEffect)((()=>{F()}),[]);const F=async()=>{const e=localStorage.getItem("token");try{const t=await(0,m.A)({method:"GET",url:v.A.getAllChild,headers:{token:e}});200===t.status&&w(t.data.data)}catch(t){console.log(t,"error")}};return(0,y.jsxs)(C,{children:[(0,y.jsx)(n.A,{sx:{paddingBottom:"20px",justifyContent:"center",alignItems:"center",margin:"auto",maxWidth:"550px",borderRadius:"10px"},children:(0,y.jsxs)(n.A,{sx:{display:"flex",gap:"15px",alignItems:"center",cursor:"pointer"},onClick:()=>{i("/update-profile")},children:[(0,y.jsx)(x.K9R,{color:"rgba(182, 183, 184, 1)"}),(0,y.jsxs)(o.A,{children:[(null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.name)||"--"," Profile"]})]})}),(0,y.jsxs)(n.A,{sx:j.CombineBox,children:[(0,y.jsxs)("div",{style:{display:"grid",justifyContent:"center",alignItems:"center"},children:[(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",position:"relative"},children:[(0,y.jsx)("img",{src:B||"images/defaultPic.png",alt:"",style:{width:"80px",height:"80px",borderRadius:"50%"}}),(0,y.jsx)("div",{style:{position:"absolute",bottom:"-10px",right:"35px"},children:(0,y.jsxs)(n.A,{sx:j.editBox,children:[(0,y.jsx)("input",{type:"file",accept:"image/*",multiple:"false",style:{position:"absolute",zIndex:"1",width:"-webkit-fill-available",overflow:"hidden",height:"100%",opacity:"0"},onChange:e=>(e=>{if(e.target.files[0]){const t=e.target.files[0];O(t);const i=new FileReader;i.onload=()=>{S(i.result)},i.readAsDataURL(t)}else O(B)})(e)}),(0,y.jsx)("img",{src:"images/editProfile.svg",style:{width:"35px",height:"35px",cursor:"pointer"}})]})})]}),(0,y.jsx)(o.A,{children:"Change Profile Photo"})]}),(0,y.jsx)(p.l1,{onSubmit:async e=>{var t,l,n;P(!0);let o=e.children.map((e=>{var t;return{childName:e.name,schoolId:null===(t=R.find((t=>t.schoolId==e.schoolId)))||void 0===t?void 0:t._id,dob:e.dob,standard:e.standard,gender:e.gender}})),a=null!==f&&void 0!==f&&null!==(t=f.state)&&void 0!==t&&t.childId?"".concat(v.A.updateChild,"?childId=").concat(null===(l=f.state)||void 0===l?void 0:l.childId):v.A.createChild,d=null!==f&&void 0!==f&&null!==(n=f.state)&&void 0!==n&&n.childId?o[0]:o;try{var r;let e="";e=null!==f&&void 0!==f&&null!==(r=f.state)&&void 0!==r&&r.childId?await m.A.put(a,d,{headers:{token:localStorage.getItem("token")}}):await m.A.post(a,o[0],{headers:{token:localStorage.getItem("token")}}),200===e.status&&(b.Ay.success(e.data.message),P(!1),i("/update-profile"))}catch(s){b.Ay.error(s.response.data.message),P(!1)}},initialValues:{children:[{name:"",schoolId:"",dob:"",gender:"",standard:""}]},validationSchema:h.Ik().shape({children:h.YO().of(h.Ik().shape({name:h.Yj().required("Please enter your full name."),schoolId:h.Yj(),dob:h.Yj(),gender:h.Yj(),standard:h.Yj()}))}),children:e=>{let{errors:t,handleBlur:i,handleChange:l,handleSubmit:h,touched:v,values:m}=e;return(0,y.jsxs)(p.lV,{onSubmit:h,children:[(0,y.jsx)(p.ED,{name:"children",children:e=>{let{push:u,remove:p}=e;return(0,y.jsx)(y.Fragment,{children:m.children.map(((e,u)=>{var p,h,m,x,g,b,A,f,j,C,I,w,B,S,k,O,M,P,R,W,V,G,D,L,E,F,N,T,z,Y,H,X,K,q,U,Z,_,J,Q,$,ee,te,ie,le,ne,oe,ae,de,re,se,ce,ue;return(0,y.jsxs)(a.Ay,{sx:{margin:"13px 0"},children:[(0,y.jsxs)(n.A,{sx:{margin:"13px 0"},children:[(0,y.jsx)(d.A,{placeholder:"Child's full name",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.name,name:"children.".concat(u,".name"),error:Boolean((null===(p=v.children)||void 0===p||null===(h=p[u])||void 0===h?void 0:h.name)&&(null===(m=t.children)||void 0===m||null===(x=m[u])||void 0===x?void 0:x.name)),onBlur:i,onChange:l}),(0,y.jsx)(r.A,{error:Boolean((null===(g=v.children)||void 0===g||null===(b=g[u])||void 0===b?void 0:b.name)&&(null===(A=t.children)||void 0===A||null===(f=A[u])||void 0===f?void 0:f.name)),children:(null===(j=v.children)||void 0===j||null===(C=j[u])||void 0===C?void 0:C.name)&&(null===(I=t.children)||void 0===I||null===(w=I[u])||void 0===w?void 0:w.name)})]}),(0,y.jsxs)(n.A,{sx:{margin:"13px 0"},children:[(0,y.jsx)(d.A,{placeholder:"Enter School Id",variant:"outlined",fullWidth:!0,inputProps:{maxLength:256},value:e.schoolId,name:"children.".concat(u,".schoolId"),error:Boolean((null===(B=v.children)||void 0===B||null===(S=B[u])||void 0===S?void 0:S.schoolId)&&(null===(k=t.children)||void 0===k||null===(O=k[u])||void 0===O?void 0:O.schoolId)),onBlur:i,onChange:l}),(0,y.jsx)(r.A,{error:Boolean((null===(M=v.children)||void 0===M||null===(P=M[u])||void 0===P?void 0:P.schoolId)&&(null===(R=t.children)||void 0===R||null===(W=R[u])||void 0===W?void 0:W.schoolId)),children:(null===(V=v.children)||void 0===V||null===(G=V[u])||void 0===G?void 0:G.schoolId)&&(null===(D=t.children)||void 0===D||null===(L=D[u])||void 0===L?void 0:L.schoolId)})]}),(0,y.jsxs)(n.A,{sx:{margin:"13px 0"},children:[(0,y.jsx)(d.A,{type:"date",variant:"outlined",fullWidth:!0,size:"small",inputProps:{maxLength:256},value:e.dob,name:"children.".concat(u,".dob"),error:Boolean((null===(E=v.children)||void 0===E||null===(F=E[u])||void 0===F?void 0:F.dob)&&(null===(N=t.children)||void 0===N||null===(T=N[u])||void 0===T?void 0:T.dob)),onBlur:i,onChange:l}),(0,y.jsx)(r.A,{error:Boolean((null===(z=v.children)||void 0===z||null===(Y=z[u])||void 0===Y?void 0:Y.dob)&&(null===(H=t.children)||void 0===H||null===(X=H[u])||void 0===X?void 0:X.dob)),children:(null===(K=v.children)||void 0===K||null===(q=K[u])||void 0===q?void 0:q.dob)&&(null===(U=t.children)||void 0===U||null===(Z=U[u])||void 0===Z?void 0:Z.dob)})]}),(0,y.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Gender"}),(0,y.jsxs)(n.A,{sx:{margin:"13px 0"},children:[(0,y.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.gender,onChange:l,name:"children.".concat(u,".gender"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,y.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),(0,y.jsx)(c.A,{value:"Male",children:"Boy"}),(0,y.jsx)(c.A,{value:"Female",children:"Girl"})]}),(0,y.jsx)(r.A,{error:Boolean((null===(_=v.children)||void 0===_||null===(J=_[u])||void 0===J?void 0:J.gender)&&(null===(Q=t.children)||void 0===Q||null===($=Q[u])||void 0===$?void 0:$.gender)),children:(null===(ee=v.children)||void 0===ee||null===(te=ee[u])||void 0===te?void 0:te.gender)&&(null===(ie=t.children)||void 0===ie||null===(le=ie[u])||void 0===le?void 0:le.gender)})]}),e.schoolId&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.A,{variant:"h5",sx:{textAlign:"start"},children:"Standard"}),(0,y.jsxs)(n.A,{sx:{margin:"13px 0"},children:[(0,y.jsxs)(s.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e.standard,onChange:l,name:"children.".concat(u,".standard"),fullWidth:!0,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[(0,y.jsx)(c.A,{value:"",disabled:!0,children:"Choose one"}),[1,2,3,4,5,6].map((e=>(0,y.jsx)(c.A,{value:e.toString(),children:e},e)))]}),(0,y.jsx)(r.A,{error:Boolean((null===(ne=v.children)||void 0===ne||null===(oe=ne[u])||void 0===oe?void 0:oe.standard)&&(null===(ae=t.children)||void 0===ae||null===(de=ae[u])||void 0===de?void 0:de.standard)),children:(null===(re=v.children)||void 0===re||null===(se=re[u])||void 0===se?void 0:se.standard)&&(null===(ce=t.children)||void 0===ce||null===(ue=ce[u])||void 0===ue?void 0:ue.standard)})]})]})]},u)}))})}}),(0,y.jsxs)(a.Ay,{children:[(0,y.jsx)(n.A,{sx:{marginTop:"26px"},children:(0,y.jsxs)(u.A,{type:"submit",variant:"contained",disabled:M,fullWidth:!0,children:["Save",M&&(0,y.jsx)(g.A,{})]})}),(0,y.jsx)(n.A,{sx:{display:"grid",justifyContent:"center",mt:"13px"}})]})]})}})]})]})}},5658:(e,t,i)=>{i.d(t,{A:()=>a,K:()=>o});var l=i(7056),n=i(2400);function o(e){return(0,n.Ay)("MuiDivider",e)}const a=(0,l.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},1449:(e,t,i)=>{i.d(t,{A:()=>B});var l=i(8587),n=i(8168),o=i(5043),a=i(8387),d=i(8606),r=i(7266),s=i(4535),c=i(1475),u=i(2876),p=i(1347),h=i(2383),v=i(5013),m=i(5849),x=i(5658),g=i(7056);const b=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=i(5671),f=i(2400);function y(e){return(0,f.Ay)("MuiMenuItem",e)}const j=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=i(579);const I=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,s.Ay)(h.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:i}=e;return(0,n.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,r.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(x.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(x.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!i.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},i.dense&&(0,n.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))})),B=o.forwardRef((function(e,t){const i=(0,u.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:c=!1,divider:h=!1,disableGutters:x=!1,focusVisibleClassName:g,role:b="menuitem",tabIndex:A,className:f}=i,j=(0,l.A)(i,I),B=o.useContext(p.A),S=o.useMemo((()=>({dense:c||B.dense||!1,disableGutters:x})),[B.dense,c,x]),k=o.useRef(null);(0,v.A)((()=>{r&&k.current&&k.current.focus()}),[r]);const O=(0,n.A)({},i,{dense:S.dense,divider:h,disableGutters:x}),M=(e=>{const{disabled:t,dense:i,divider:l,disableGutters:o,selected:a,classes:r}=e,s={root:["root",i&&"dense",t&&"disabled",!o&&"gutters",l&&"divider",a&&"selected"]},c=(0,d.A)(s,y,r);return(0,n.A)({},r,c)})(i),P=(0,m.A)(k,t);let R;return i.disabled||(R=void 0!==A?A:-1),(0,C.jsx)(p.A.Provider,{value:S,children:(0,C.jsx)(w,(0,n.A)({ref:P,role:b,tabIndex:R,component:s,focusVisibleClassName:(0,a.A)(M.focusVisible,g),className:(0,a.A)(M.root,f)},j,{ownerState:O,classes:M}))})}))}}]);
//# sourceMappingURL=526.a1e1965e.chunk.js.map